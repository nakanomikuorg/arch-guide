<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <meta name="generator" content="VuePress 2.0.0-beta.49">
    <style>
      :root {
        --c-bg: #fff;
      }
      html.dark {
        --c-bg: #22272e;
      }
      html, body {
        background-color: var(--c-bg);
      }
    </style>
    <script>
      const userMode = localStorage.getItem('vuepress-color-scheme');
			const systemDarkMode = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches;
			if (userMode === 'dark' || (userMode !== 'light' && systemDarkMode)) {
				document.documentElement.classList.toggle('dark', true);
			}
    </script>
    <meta name="title" content="archlinux 简明指南 —— Arch Linux 安装使用教程"><link rel="icon" type="image/png" sizes="128x128" href="/favicon-128x128.png"><link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png"><meta name="keywords" href="archlinux 安装,archlinux 教程,archlinux 指南,archlinux,Arch Linux,Linux"><meta name="viewport" content="width=device-width,initial-scale=1.0"><meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"><meta property="og:type" content="website"><meta property="og:url" content="https://arch.icekylin.online/"><meta property="og:title" content="archlinux 简明指南 — Arch Linux 安装使用教程"><meta property="og:description" content="本指南包含从 archlinux 安装、显卡驱动、日常软件配置，到多媒体制作、编程等你可能需要的全部内容。让 archlinux 成为你的常用系统吧！"><meta property="og:image" content="https://arch.icekylin.online/image-400x400.png"><meta property="twitter:card" content="summary_large_image"><meta property="twitter:url" content="https://arch.icekylin.online/"><meta property="twitter:title" content="archlinux 简明指南 — Arch Linux 安装使用教程"><meta property="twitter:description" content="本指南包含从 archlinux 安装、显卡驱动、日常软件配置，到多媒体制作、编程等你可能需要的全部内容。让 archlinux 成为你的常用系统吧！"><meta property="twitter:image" content="https://arch.icekylin.online/image.jpg"><meta name="baidu-site-verification" content="code-CJJd7gooWE"><meta name="msvalidate.01" content="5F7926C2A8770A498525E9E64994663C"><meta name="360-site-verification" content="87416cd673fcfd727db0aeb869a17caf"><link rel="stylesheet" type="text/css" href="/static/css/font.css"><script>var _hmt = _hmt || [];
(function () {
  var hm = document.createElement("script");
  hm.src = "https://hm.baidu.com/hm.js?e7059486ad3b16e21ea7058836c51b9b";
  var s = document.getElementsByTagName("script")[0];
  s.parentNode.insertBefore(hm, s);
})();</script><script>(function () {
  var bp = document.createElement("script");
  var curProtocol = window.location.protocol.split(":")[0];
  if (curProtocol === "https") {
    bp.src = "https://zz.bdstatic.com/linksubmit/push.js";
  } else {
    bp.src = "http://push.zhanzhang.baidu.com/push.js";
  }
  var s = document.getElementsByTagName("script")[0];
  s.parentNode.insertBefore(bp, s);
})();</script><script async="" src="https://www.googletagmanager.com/gtag/js?id=G-MQRPJQK9SC"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
    
gtag('config', 'G-MQRPJQK9SC');</script><title>显卡驱动 | archlinux 简明指南 — Arch Linux 安装使用教程</title><meta name="description" content="本指南包含从 archlinux 安装、显卡驱动、日常软件配置，到多媒体制作、编程等你可能需要的全部内容。让 archlinux 成为你的常用系统吧！">
    <link rel="modulepreload" href="/assets/app.143e7d7b.js"><link rel="modulepreload" href="/assets/graphic-driver.html.ceb81c9d.js"><link rel="modulepreload" href="/assets/graphic-driver.html.0add248d.js"><link rel="prefetch" href="/assets/index.html.d5b014a7.js"><link rel="prefetch" href="/assets/prologue.html.329653e0.js"><link rel="prefetch" href="/assets/beauty-1.html.09c47730.js"><link rel="prefetch" href="/assets/beauty-2.html.66099d06.js"><link rel="prefetch" href="/assets/beauty-3.html.49304405.js"><link rel="prefetch" href="/assets/btrfs.html.7ba6b983.js"><link rel="prefetch" href="/assets/debug.html.8a5b0ad4.js"><link rel="prefetch" href="/assets/make-install-disk.html.fe59adef.js"><link rel="prefetch" href="/assets/optional-cfg-1.html.4159c1df.js"><link rel="prefetch" href="/assets/optional-cfg-2.html.48c263f9.js"><link rel="prefetch" href="/assets/power-ctl.html.ff595070.js"><link rel="prefetch" href="/assets/system-ctl.html.760b0c7d.js"><link rel="prefetch" href="/assets/android.html.e1d909bb.js"><link rel="prefetch" href="/assets/collaboration.html.2c16169a.js"><link rel="prefetch" href="/assets/communication.html.c0fd60ec.js"><link rel="prefetch" href="/assets/daily.html.9dacc347.js"><link rel="prefetch" href="/assets/media.html.f619d317.js"><link rel="prefetch" href="/assets/office.html.087c4655.js"><link rel="prefetch" href="/assets/play.html.28db7cf6.js"><link rel="prefetch" href="/assets/remote.html.77752ed4.js"><link rel="prefetch" href="/assets/audio.html.bfd97844.js"><link rel="prefetch" href="/assets/code.html.e469fb16.js"><link rel="prefetch" href="/assets/image.html.eeb41641.js"><link rel="prefetch" href="/assets/media.html.cae8705f.js"><link rel="prefetch" href="/assets/vedio.html.668b4692.js"><link rel="prefetch" href="/assets/about.html.707b0133.js"><link rel="prefetch" href="/assets/contribute.html.0b4f6390.js"><link rel="prefetch" href="/assets/contributor-covenant.html.61f74dab.js"><link rel="prefetch" href="/assets/copyright.html.fb70d2bc.js"><link rel="prefetch" href="/assets/postscript.html.ef9c5908.js"><link rel="prefetch" href="/assets/head-on-blow.html.535559ea.js"><link rel="prefetch" href="/assets/understand.html.1611fc21.js"><link rel="prefetch" href="/assets/basic-install-detail.html.b71c2f84.js"><link rel="prefetch" href="/assets/basic-install.html.acf5014e.js"><link rel="prefetch" href="/assets/desktop-env-and-app.html.3cc92c47.js"><link rel="prefetch" href="/assets/pre-install.html.71a75567.js"><link rel="prefetch" href="/assets/pre-virt.html.97f4f02a.js"><link rel="prefetch" href="/assets/transparent.html.d27f2794.js"><link rel="prefetch" href="/assets/404.html.265028f6.js"><link rel="prefetch" href="/assets/index.html.9355dec6.js"><link rel="prefetch" href="/assets/prologue.html.f63674c1.js"><link rel="prefetch" href="/assets/beauty-1.html.34ec48cf.js"><link rel="prefetch" href="/assets/beauty-2.html.2a02d4b0.js"><link rel="prefetch" href="/assets/beauty-3.html.656128bf.js"><link rel="prefetch" href="/assets/btrfs.html.de327da1.js"><link rel="prefetch" href="/assets/debug.html.d61f0bfb.js"><link rel="prefetch" href="/assets/make-install-disk.html.3c6a600d.js"><link rel="prefetch" href="/assets/optional-cfg-1.html.4a86434c.js"><link rel="prefetch" href="/assets/optional-cfg-2.html.a01be83e.js"><link rel="prefetch" href="/assets/power-ctl.html.a6b0b2ce.js"><link rel="prefetch" href="/assets/system-ctl.html.c8bb24f8.js"><link rel="prefetch" href="/assets/android.html.95b670e1.js"><link rel="prefetch" href="/assets/collaboration.html.c5c58943.js"><link rel="prefetch" href="/assets/communication.html.648574de.js"><link rel="prefetch" href="/assets/daily.html.74e9b624.js"><link rel="prefetch" href="/assets/media.html.15903bbd.js"><link rel="prefetch" href="/assets/office.html.f1b163a4.js"><link rel="prefetch" href="/assets/play.html.f1b2ea3c.js"><link rel="prefetch" href="/assets/remote.html.811a67f2.js"><link rel="prefetch" href="/assets/audio.html.ec0c2111.js"><link rel="prefetch" href="/assets/code.html.c4c85218.js"><link rel="prefetch" href="/assets/image.html.2d04ab58.js"><link rel="prefetch" href="/assets/media.html.61e10baa.js"><link rel="prefetch" href="/assets/vedio.html.df56774c.js"><link rel="prefetch" href="/assets/about.html.1a01277f.js"><link rel="prefetch" href="/assets/contribute.html.7cff10a2.js"><link rel="prefetch" href="/assets/contributor-covenant.html.cab2a104.js"><link rel="prefetch" href="/assets/copyright.html.0beacf2c.js"><link rel="prefetch" href="/assets/postscript.html.77425d90.js"><link rel="prefetch" href="/assets/head-on-blow.html.de1fddee.js"><link rel="prefetch" href="/assets/understand.html.ef40fbb8.js"><link rel="prefetch" href="/assets/basic-install-detail.html.d353a312.js"><link rel="prefetch" href="/assets/basic-install.html.a081009c.js"><link rel="prefetch" href="/assets/desktop-env-and-app.html.d0339bd5.js"><link rel="prefetch" href="/assets/pre-install.html.045b3ee4.js"><link rel="prefetch" href="/assets/pre-virt.html.4e406ac4.js"><link rel="prefetch" href="/assets/transparent.html.516afdaa.js"><link rel="prefetch" href="/assets/404.html.b7c298a2.js"><link rel="prefetch" href="/assets/404.14ffe298.js"><link rel="prefetch" href="/assets/Layout.a98237b6.js">
    <link rel="stylesheet" href="/assets/style.9d40b4d3.css">
  </head>
  <body>
    <div id="app"><!--[--><div class="theme-container"><!--[--><header class="navbar"><div class="toggle-sidebar-button" title="toggle sidebar" aria-expanded="false" role="button" tabindex="0"><div class="icon" aria-hidden="true"><span></span><span></span><span></span></div></div><span><a href="/" class=""><img class="logo" src="/static/svg/arch-logo.svg" alt="archlinux 简明指南 — Arch Linux 安装使用教程"><span class="site-name can-hide">archlinux 简明指南 — Arch Linux 安装使用教程</span></a></span><div class="navbar-items-wrapper" style=""><!--[--><!--]--><nav class="navbar-items can-hide"><!--[--><div class="navbar-item"><a class="external-link" href="https://github.com/NakanoMikuOrg/arch-guide" rel="noopener noreferrer" target="_blank" aria-label="🍺 Github"><!--[--><!--]--> 🍺 Github <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></div><!--]--></nav><!--[--><!--]--><button class="toggle-color-mode-button" title="toggle color mode"><svg style="" class="icon" focusable="false" viewBox="0 0 32 32"><path d="M16 12.005a4 4 0 1 1-4 4a4.005 4.005 0 0 1 4-4m0-2a6 6 0 1 0 6 6a6 6 0 0 0-6-6z" fill="currentColor"></path><path d="M5.394 6.813l1.414-1.415l3.506 3.506L8.9 10.318z" fill="currentColor"></path><path d="M2 15.005h5v2H2z" fill="currentColor"></path><path d="M5.394 25.197L8.9 21.691l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 25.005h2v5h-2z" fill="currentColor"></path><path d="M21.687 23.106l1.414-1.415l3.506 3.506l-1.414 1.414z" fill="currentColor"></path><path d="M25 15.005h5v2h-5z" fill="currentColor"></path><path d="M21.687 8.904l3.506-3.506l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 2.005h2v5h-2z" fill="currentColor"></path></svg><svg style="display:none;" class="icon" focusable="false" viewBox="0 0 32 32"><path d="M13.502 5.414a15.075 15.075 0 0 0 11.594 18.194a11.113 11.113 0 0 1-7.975 3.39c-.138 0-.278.005-.418 0a11.094 11.094 0 0 1-3.2-21.584M14.98 3a1.002 1.002 0 0 0-.175.016a13.096 13.096 0 0 0 1.825 25.981c.164.006.328 0 .49 0a13.072 13.072 0 0 0 10.703-5.555a1.01 1.01 0 0 0-.783-1.565A13.08 13.08 0 0 1 15.89 4.38A1.015 1.015 0 0 0 14.98 3z" fill="currentColor"></path></svg></button><form class="search-box" role="search"><input type="search" placeholder="搜索" autocomplete="off" spellcheck="false" value><!----></form></div></header><!--]--><div class="sidebar-mask"></div><!--[--><aside class="sidebar"><nav class="navbar-items"><!--[--><div class="navbar-item"><a class="external-link" href="https://github.com/NakanoMikuOrg/arch-guide" rel="noopener noreferrer" target="_blank" aria-label="🍺 Github"><!--[--><!--]--> 🍺 Github <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></div><!--]--></nav><!--[--><!--]--><ul class="sidebar-items"><!--[--><li><p tabindex="0" class="sidebar-item sidebar-heading">🎐 千里之行 <!----></p><ul style="display:none;" class="sidebar-item-children"><!--[--><li><a href="/prologue.html" class="sidebar-item" aria-label="序章"><!--[--><!--]--> 序章 <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><p tabindex="0" class="sidebar-item sidebar-heading">ℹ️ 尝试之前 <!----></p><ul style="display:none;" class="sidebar-item-children"><!--[--><li><a href="/prepare/head-on-blow.html" class="sidebar-item" aria-label="archlinux 真的适合我吗？"><!--[--><!--]--> archlinux 真的适合我吗？ <!--[--><!--]--></a><!----></li><li><a href="/prepare/understand.html" class="sidebar-item" aria-label="了解 archlinux"><!--[--><!--]--> 了解 archlinux <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><p tabindex="0" class="sidebar-item sidebar-heading active">🌱 新手上路 <!----></p><ul style="" class="sidebar-item-children"><!--[--><li><p tabindex="0" class="sidebar-item">💾 基础安装 <!----></p><ul style="display:none;" class="sidebar-item-children"><!--[--><li><a href="/rookie/pre-install.html" class="sidebar-item" aria-label="安装前的准备"><!--[--><!--]--> 安装前的准备 <!--[--><!--]--></a><!----></li><li><a href="/rookie/pre-virt.html" class="sidebar-item" aria-label="虚拟机安装前的准备"><!--[--><!--]--> 虚拟机安装前的准备 <!--[--><!--]--></a><!----></li><li><a href="/rookie/basic-install.html" class="sidebar-item" aria-label="archlinux 基础安装"><!--[--><!--]--> archlinux 基础安装 <!--[--><!--]--></a><!----></li><li><a href="/rookie/basic-install-detail.html" class="sidebar-item" aria-label="基础安装详解"><!--[--><!--]--> 基础安装详解 <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><p tabindex="0" class="sidebar-item active">🔩 进阶安装 <!----></p><ul style="" class="sidebar-item-children"><!--[--><li><a href="/rookie/desktop-env-and-app.html" class="sidebar-item" aria-label="桌面环境与常用应用"><!--[--><!--]--> 桌面环境与常用应用 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/rookie/graphic-driver.html" class="router-link-active router-link-exact-active router-link-active sidebar-item active" aria-label="显卡驱动"><!--[--><!--]--> 显卡驱动 <!--[--><!--]--></a><ul style="" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/rookie/graphic-driver.html#🪁-接天莲叶无穷碧-映日荷花别样红" class="router-link-active router-link-exact-active sidebar-item" aria-label="🪁 接天莲叶无穷碧，映日荷花别样红"><!--[--><!--]--> 🪁 接天莲叶无穷碧，映日荷花别样红 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/rookie/graphic-driver.html#🔖-这一节将会讨论" class="router-link-active router-link-exact-active sidebar-item" aria-label="🔖 这一节将会讨论："><!--[--><!--]--> 🔖 这一节将会讨论： <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/rookie/graphic-driver.html#核芯显卡" class="router-link-active router-link-exact-active sidebar-item" aria-label="核芯显卡"><!--[--><!--]--> 核芯显卡 <!--[--><!--]--></a><ul style="display:none;" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/rookie/graphic-driver.html#intel-核芯显卡" class="router-link-active router-link-exact-active sidebar-item" aria-label="Intel 核芯显卡"><!--[--><!--]--> Intel 核芯显卡 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/rookie/graphic-driver.html#amd-核芯显卡" class="router-link-active router-link-exact-active sidebar-item" aria-label="AMD 核芯显卡"><!--[--><!--]--> AMD 核芯显卡 <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><a aria-current="page" href="/rookie/graphic-driver.html#独立显卡" class="router-link-active router-link-exact-active sidebar-item" aria-label="独立显卡"><!--[--><!--]--> 独立显卡 <!--[--><!--]--></a><ul style="display:none;" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/rookie/graphic-driver.html#nvidia-独立显卡" class="router-link-active router-link-exact-active sidebar-item" aria-label="NVIDIA 独立显卡"><!--[--><!--]--> NVIDIA 独立显卡 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/rookie/graphic-driver.html#amd-独立显卡" class="router-link-active router-link-exact-active sidebar-item" aria-label="AMD 独立显卡"><!--[--><!--]--> AMD 独立显卡 <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><a aria-current="page" href="/rookie/graphic-driver.html#双显卡-核显-独显" class="router-link-active router-link-exact-active sidebar-item" aria-label="双显卡（核显 + 独显）"><!--[--><!--]--> 双显卡（核显 + 独显） <!--[--><!--]--></a><ul style="display:none;" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/rookie/graphic-driver.html#nvidia-独立显卡-1" class="router-link-active router-link-exact-active sidebar-item" aria-label="NVIDIA 独立显卡"><!--[--><!--]--> NVIDIA 独立显卡 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/rookie/graphic-driver.html#amd-独立显卡-1" class="router-link-active router-link-exact-active sidebar-item" aria-label="AMD 独立显卡"><!--[--><!--]--> AMD 独立显卡 <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><a aria-current="page" href="/rookie/graphic-driver.html#性能测试" class="router-link-active router-link-exact-active sidebar-item" aria-label="性能测试"><!--[--><!--]--> 性能测试 <!--[--><!--]--></a><ul style="display:none;" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/rookie/graphic-driver.html#glxgears" class="router-link-active router-link-exact-active sidebar-item" aria-label="glxgears"><!--[--><!--]--> glxgears <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/rookie/graphic-driver.html#glmark2" class="router-link-active router-link-exact-active sidebar-item" aria-label="glmark2"><!--[--><!--]--> glmark2 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/rookie/graphic-driver.html#unigine-benchmark" class="router-link-active router-link-exact-active sidebar-item" aria-label="Unigine benchmark"><!--[--><!--]--> Unigine benchmark <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><a aria-current="page" href="/rookie/graphic-driver.html#显卡信息查看" class="router-link-active router-link-exact-active sidebar-item" aria-label="显卡信息查看"><!--[--><!--]--> 显卡信息查看 <!--[--><!--]--></a><ul style="display:none;" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/rookie/graphic-driver.html#nvidia-独立显卡-2" class="router-link-active router-link-exact-active sidebar-item" aria-label="NVIDIA 独立显卡"><!--[--><!--]--> NVIDIA 独立显卡 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/rookie/graphic-driver.html#amd-独立显卡-核芯显卡" class="router-link-active router-link-exact-active sidebar-item" aria-label="AMD 独立显卡 / 核芯显卡"><!--[--><!--]--> AMD 独立显卡 / 核芯显卡 <!--[--><!--]--></a><!----></li><!--]--></ul></li><!--]--></ul></li><li><a href="/rookie/transparent.html" class="sidebar-item" aria-label="透明代理"><!--[--><!--]--> 透明代理 <!--[--><!--]--></a><!----></li><!--]--></ul></li><!--]--></ul></li><li><p tabindex="0" class="sidebar-item sidebar-heading">🛠️ 进阶话题 <!----></p><ul style="display:none;" class="sidebar-item-children"><!--[--><li><p tabindex="0" class="sidebar-item">⚙️ 可选配置 <!----></p><ul style="display:none;" class="sidebar-item-children"><!--[--><li><a href="/advanced/optional-cfg-1.html" class="sidebar-item" aria-label="可选配置（基础）"><!--[--><!--]--> 可选配置（基础） <!--[--><!--]--></a><!----></li><li><a href="/advanced/optional-cfg-2.html" class="sidebar-item" aria-label="可选配置（进阶）"><!--[--><!--]--> 可选配置（进阶） <!--[--><!--]--></a><!----></li><li><a href="/advanced/power-ctl.html" class="sidebar-item" aria-label="功耗控制"><!--[--><!--]--> 功耗控制 <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><p tabindex="0" class="sidebar-item">🌸 系统美化 <!----></p><ul style="display:none;" class="sidebar-item-children"><!--[--><li><a href="/advanced/beauty-1.html" class="sidebar-item" aria-label="系统美化（布局）"><!--[--><!--]--> 系统美化（布局） <!--[--><!--]--></a><!----></li><li><a href="/advanced/beauty-2.html" class="sidebar-item" aria-label="系统美化（主题）"><!--[--><!--]--> 系统美化（主题） <!--[--><!--]--></a><!----></li><li><a href="/advanced/beauty-3.html" class="sidebar-item" aria-label="系统美化（终端）"><!--[--><!--]--> 系统美化（终端） <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><p tabindex="0" class="sidebar-item">🧰 系统管理 <!----></p><ul style="display:none;" class="sidebar-item-children"><!--[--><li><a href="/advanced/system-ctl.html" class="sidebar-item" aria-label="合格的系统管理员"><!--[--><!--]--> 合格的系统管理员 <!--[--><!--]--></a><!----></li><li><a href="/advanced/debug.html" class="sidebar-item" aria-label="常见问题"><!--[--><!--]--> 常见问题 <!--[--><!--]--></a><!----></li><li><a href="/advanced/make-install-disk.html" class="sidebar-item" aria-label="制作系统盘"><!--[--><!--]--> 制作系统盘 <!--[--><!--]--></a><!----></li><li><a href="/advanced/btrfs.html" class="sidebar-item" aria-label="Btrfs 相关"><!--[--><!--]--> Btrfs 相关 <!--[--><!--]--></a><!----></li><!--]--></ul></li><!--]--></ul></li><li><p tabindex="0" class="sidebar-item sidebar-heading">💽 常用软件 <!----></p><ul style="display:none;" class="sidebar-item-children"><!--[--><li><p tabindex="0" class="sidebar-item">📐 日常办公 <!----></p><ul style="display:none;" class="sidebar-item-children"><!--[--><li><a href="/apps/daily.html" class="sidebar-item" aria-label="常用软件"><!--[--><!--]--> 常用软件 <!--[--><!--]--></a><!----></li><li><a href="/apps/communication.html" class="sidebar-item" aria-label="聊天通讯"><!--[--><!--]--> 聊天通讯 <!--[--><!--]--></a><!----></li><li><a href="/apps/office.html" class="sidebar-item" aria-label="办公软件"><!--[--><!--]--> 办公软件 <!--[--><!--]--></a><!----></li><li><a href="/apps/collaboration.html" class="sidebar-item" aria-label="多屏协同"><!--[--><!--]--> 多屏协同 <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><p tabindex="0" class="sidebar-item">🎯 进阶内容 <!----></p><ul style="display:none;" class="sidebar-item-children"><!--[--><li><a href="/apps/media.html" class="sidebar-item" aria-label="视频影音"><!--[--><!--]--> 视频影音 <!--[--><!--]--></a><!----></li><li><a href="/apps/play.html" class="sidebar-item" aria-label="游戏娱乐"><!--[--><!--]--> 游戏娱乐 <!--[--><!--]--></a><!----></li><li><a href="/apps/remote.html" class="sidebar-item" aria-label="远程连接"><!--[--><!--]--> 远程连接 <!--[--><!--]--></a><!----></li><li><a href="/apps/android.html" class="sidebar-item" aria-label="安卓刷机"><!--[--><!--]--> 安卓刷机 <!--[--><!--]--></a><!----></li><!--]--></ul></li><!--]--></ul></li><li><p tabindex="0" class="sidebar-item sidebar-heading">🔬 专有领域 <!----></p><ul style="display:none;" class="sidebar-item-children"><!--[--><li><p tabindex="0" class="sidebar-item">🎹 媒体创作 <!----></p><ul style="display:none;" class="sidebar-item-children"><!--[--><li><a href="/exclusive/vedio.html" class="sidebar-item" aria-label="视频制作"><!--[--><!--]--> 视频制作 <!--[--><!--]--></a><!----></li><li><a href="/exclusive/image.html" class="sidebar-item" aria-label="图像制作"><!--[--><!--]--> 图像制作 <!--[--><!--]--></a><!----></li><li><a href="/exclusive/audio.html" class="sidebar-item" aria-label="音频制作"><!--[--><!--]--> 音频制作 <!--[--><!--]--></a><!----></li><li><a href="/exclusive/media.html" class="sidebar-item" aria-label="其它内容"><!--[--><!--]--> 其它内容 <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><p tabindex="0" class="sidebar-item">🖥️ 信息技术 <!----></p><ul style="display:none;" class="sidebar-item-children"><!--[--><li><a href="/exclusive/code.html" class="sidebar-item" aria-label="编程软件"><!--[--><!--]--> 编程软件 <!--[--><!--]--></a><!----></li><!--]--></ul></li><!--]--></ul></li><li><p tabindex="0" class="sidebar-item sidebar-heading">🍰 写在后面 <!----></p><ul style="display:none;" class="sidebar-item-children"><!--[--><li><a href="/postscript/contributor-covenant.html" class="sidebar-item" aria-label="贡献者公约"><!--[--><!--]--> 贡献者公约 <!--[--><!--]--></a><!----></li><li><a href="/postscript/contribute.html" class="sidebar-item" aria-label="贡献指南"><!--[--><!--]--> 贡献指南 <!--[--><!--]--></a><!----></li><li><a href="/postscript/copyright.html" class="sidebar-item" aria-label="版权说明"><!--[--><!--]--> 版权说明 <!--[--><!--]--></a><!----></li><li><a href="/postscript/about.html" class="sidebar-item" aria-label="附录"><!--[--><!--]--> 附录 <!--[--><!--]--></a><!----></li><!--]--></ul></li><!--]--></ul><!--[--><!--]--></aside><!--]--><!--[--><main class="page"><!--[--><!--]--><div class="theme-default-content"><!--[--><!--]--><div><h1 id="archlinux-显卡驱动" tabindex="-1"><a class="header-anchor" href="#archlinux-显卡驱动" aria-hidden="true">#</a> archlinux 显卡驱动</h1><blockquote><h3 id="🪁-接天莲叶无穷碧-映日荷花别样红" tabindex="-1"><a class="header-anchor" href="#🪁-接天莲叶无穷碧-映日荷花别样红" aria-hidden="true">#</a> 🪁 接天莲叶无穷碧，映日荷花别样红</h3><p>近年来，archlinux 的显卡驱动安装已经变得非常容易。本小节区分核芯显卡、独立显卡和双显卡（核显 + 独显）三大类讨论 archlinux 显卡驱动的安装</p></blockquote><blockquote><h3 id="🔖-这一节将会讨论" tabindex="-1"><a class="header-anchor" href="#🔖-这一节将会讨论" aria-hidden="true">#</a> 🔖 这一节将会讨论：</h3><details class="custom-container details"><summary>目录</summary><nav class="table-of-contents"><ul><li><a aria-current="page" href="/rookie/graphic-driver.html#🪁-接天莲叶无穷碧-映日荷花别样红" class="router-link-active router-link-exact-active">🪁 接天莲叶无穷碧，映日荷花别样红</a></li><li><a aria-current="page" href="/rookie/graphic-driver.html#🔖-这一节将会讨论" class="router-link-active router-link-exact-active">🔖 这一节将会讨论：</a></li><li><a aria-current="page" href="/rookie/graphic-driver.html#核芯显卡" class="router-link-active router-link-exact-active">核芯显卡</a><ul><li><a aria-current="page" href="/rookie/graphic-driver.html#intel-核芯显卡" class="router-link-active router-link-exact-active">Intel 核芯显卡</a></li><li><a aria-current="page" href="/rookie/graphic-driver.html#amd-核芯显卡" class="router-link-active router-link-exact-active">AMD 核芯显卡</a></li></ul></li><li><a aria-current="page" href="/rookie/graphic-driver.html#独立显卡" class="router-link-active router-link-exact-active">独立显卡</a><ul><li><a aria-current="page" href="/rookie/graphic-driver.html#nvidia-独立显卡" class="router-link-active router-link-exact-active">NVIDIA 独立显卡</a></li><li><a aria-current="page" href="/rookie/graphic-driver.html#amd-独立显卡" class="router-link-active router-link-exact-active">AMD 独立显卡</a></li></ul></li><li><a aria-current="page" href="/rookie/graphic-driver.html#双显卡-核显-独显" class="router-link-active router-link-exact-active">双显卡（核显 + 独显）</a><ul><li><a aria-current="page" href="/rookie/graphic-driver.html#nvidia-独立显卡-1" class="router-link-active router-link-exact-active">NVIDIA 独立显卡</a></li><li><a aria-current="page" href="/rookie/graphic-driver.html#amd-独立显卡-1" class="router-link-active router-link-exact-active">AMD 独立显卡</a></li></ul></li><li><a aria-current="page" href="/rookie/graphic-driver.html#性能测试" class="router-link-active router-link-exact-active">性能测试</a><ul><li><a aria-current="page" href="/rookie/graphic-driver.html#glxgears" class="router-link-active router-link-exact-active">glxgears</a></li><li><a aria-current="page" href="/rookie/graphic-driver.html#glmark2" class="router-link-active router-link-exact-active">glmark2</a></li><li><a aria-current="page" href="/rookie/graphic-driver.html#unigine-benchmark" class="router-link-active router-link-exact-active">Unigine benchmark</a></li></ul></li><li><a aria-current="page" href="/rookie/graphic-driver.html#显卡信息查看" class="router-link-active router-link-exact-active">显卡信息查看</a><ul><li><a aria-current="page" href="/rookie/graphic-driver.html#nvidia-独立显卡-2" class="router-link-active router-link-exact-active">NVIDIA 独立显卡</a></li><li><a aria-current="page" href="/rookie/graphic-driver.html#amd-独立显卡-核芯显卡" class="router-link-active router-link-exact-active">AMD 独立显卡 / 核芯显卡</a></li></ul></li></ul></nav></details></blockquote><p>所有 AMD 显卡建议使用开源驱动，英伟达显卡建议使用闭源驱动。</p><div class="custom-container tip"><p class="custom-container-title">ℹ️ 提示</p><p>进行本小节内容时建议按照步骤 <a href="/rookie/desktop-env-and-app.html#_12-%E8%AE%BE%E7%BD%AE-timeshift-%E5%BF%AB%E7%85%A7" class="">12. 设置 Timeshift 快照</a> 设置了 Timeshift 快照，并且已经有至少一张快照。</p></div><div class="custom-container tip"><p class="custom-container-title">ℹ️ 提示</p><p>虚拟机不需要安装显卡驱动。</p></div><div class="custom-container tip"><p class="custom-container-title">ℹ️ 提示</p><p>若在设置过程中导致黑屏无法进入桌面，请尝试使用使用 <code>Ctrl</code> + <code>Alt</code> + <code>F1 ~ F6</code> 在 <code>tty1 ~ tty6</code> 之间切换。</p><p>将导致黑屏的配置删掉或使用快照恢复后重新启动电脑。</p></div><div class="custom-container warning"><p class="custom-container-title">⚠️ 注意</p><p>请确保已经按照本指南之前的章节安装配置好系统再向下进行，<strong>不要多个教程混着看（尤其是一些过时的教程）</strong>。因为可能导致漏掉本指南前置步骤中的某些操作，从而造成问题。</p></div><h2 id="核芯显卡" tabindex="-1"><a class="header-anchor" href="#核芯显卡" aria-hidden="true">#</a> 核芯显卡</h2><h3 id="intel-核芯显卡" tabindex="-1"><a class="header-anchor" href="#intel-核芯显卡" aria-hidden="true">#</a> Intel 核芯显卡</h3><p>如有需要可以参阅 <a href="https://wiki.archlinux.org/index.php/Intel_graphics" target="_blank" rel="noopener noreferrer">archWiki 相关内容<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>。</p><p>通过以下命令安装如下几个包即可：</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">sudo</span> pacman -S mesa lib32-mesa vulkan-intel lib32-vulkan-intel
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><div class="custom-container tip"><p class="custom-container-title">ℹ️ 提示</p><p>不建议安装 <code>xf86-video-intel</code>，而应使用 Xorg 的 modesetting 驱动（也就是什么都不用装的意思）</p><p>注意，只有 Intel HD 4000 及以上的核显才支持 vulkan。</p></div><h3 id="amd-核芯显卡" tabindex="-1"><a class="header-anchor" href="#amd-核芯显卡" aria-hidden="true">#</a> AMD 核芯显卡</h3><p>如有需要可以参阅 <a href="https://wiki.archlinux.org/title/ATI" target="_blank" rel="noopener noreferrer">archWiki 相关内容<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>。</p><h4 id="选择驱动" tabindex="-1"><a class="header-anchor" href="#选择驱动" aria-hidden="true">#</a> 选择驱动</h4><p>对于具有核芯显卡的 AMD 处理器，需要先确定核显架构（Architecture）是什么，再决定安装什么驱动。</p><p>推荐在 <a href="https://www.techpowerup.com/" target="_blank" rel="noopener noreferrer">TECHPOWERUP<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a> 进行查询，信息非常全面。在确定了显卡架构后，再根据架构对照下表决定安装什么驱动。</p><table><thead><tr><th style="text-align:center;">GPU 架构</th><th style="text-align:center;">Radeon 显卡</th><th style="text-align:center;">开源驱动</th><th style="text-align:center;">非开源驱动</th></tr></thead><tbody><tr><td style="text-align:center;">GCN 4 及之后</td><td style="text-align:center;">多种*</td><td style="text-align:center;">AMDGPU*</td><td style="text-align:center;">AMDGPU PRO*</td></tr><tr><td style="text-align:center;">GCN 3</td><td style="text-align:center;">多种</td><td style="text-align:center;">AMDGPU</td><td style="text-align:center;">AMDGPU PRO</td></tr><tr><td style="text-align:center;">GCN 2</td><td style="text-align:center;">多种</td><td style="text-align:center;">AMDGPU/ ATI*</td><td style="text-align:center;">不支持</td></tr><tr><td style="text-align:center;">GCN 1</td><td style="text-align:center;">多种</td><td style="text-align:center;">AMDGPU / ATI</td><td style="text-align:center;">不支持</td></tr><tr><td style="text-align:center;">TeraScale 2&amp;3</td><td style="text-align:center;">HD 5000 - HD 6000</td><td style="text-align:center;">ATI</td><td style="text-align:center;">不支持</td></tr><tr><td style="text-align:center;">TeraScale 1</td><td style="text-align:center;">HD 2000 - HD 4000</td><td style="text-align:center;">ATI</td><td style="text-align:center;">不支持</td></tr><tr><td style="text-align:center;">旧型号</td><td style="text-align:center;">X1000 及之前</td><td style="text-align:center;">ATI</td><td style="text-align:center;">不支持</td></tr></tbody></table><p>*<a href="https://en.wikipedia.org/wiki/List_of_AMD_graphics_processing_units" target="_blank" rel="noopener noreferrer">多种<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p><p>*<a href="https://wiki.archlinux.org/title/AMDGPU_(%E7%AE%80%E4%BD%93%E4%B8%AD%E6%96%87)" target="_blank" rel="noopener noreferrer">AMDGPU<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p><p>*<a href="https://wiki.archlinux.org/title/AMDGPU_PRO" target="_blank" rel="noopener noreferrer">AMDGPU PRO<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p><p>*<a href="https://wiki.archlinux.org/title/ATI_(%E7%AE%80%E4%BD%93%E4%B8%AD%E6%96%87)" target="_blank" rel="noopener noreferrer">ATI<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p><div class="custom-container tip"><p class="custom-container-title">ℹ️ 提示</p><p>对于 <code>GCN 2.0</code> 及以下架构的老显卡，<strong>直接安装开源 ATI 驱动即可</strong>，原本老旧的闭源 Catalyst 驱动在 2021 年已被废弃。</p><p><code>GCN 2.0</code> 及以下架构的老显卡也<strong>不要使用开源 AMPGPU 驱动</strong>，因为其仅处于实验性质，需要各种自定义内核编译选项与配置，非常麻烦、得不偿失。</p><p>对于新型号（<code>GCN 3</code> 架构及更新）的核心显卡，<strong>直接安装开源驱动 AMDGPU 即可</strong>。</p></div><p>下面是一些例子：</p><ul><li><p>你的笔记本 cpu 是目前常见的 AMD Ryzen™ 7 4800U，它的核显为 Vega 8。通过查询，可知其为 <code>GCN 5.0</code> 架构，那么对照上表，你应该安装 AMDGPU 开源驱动。</p></li><li><p>你的台式机 cpu 是目前常见的 AMD Ryzen™ 5 3400G，它的核显为 Vega 11。通过查询，可知其为 <code>GCN 5.0</code> 架构，那么对照上表，你应该安装 AMDGPU 开源驱动。</p></li><li><p>再老一些的 7th Gen A10-9700 APU 处理器 ，它的核显为 Radeon R7。通过查询，可知其为 <code>GCN 2.0</code> 架构，那么对照上表，你应该安装 ATI 开源驱动。</p></li></ul><h4 id="安装驱动" tabindex="-1"><a class="header-anchor" href="#安装驱动" aria-hidden="true">#</a> 安装驱动</h4><p>通过以下命令安装如下几个包即可：</p><div class="code-group"><div class="code-group__nav"><ul class="code-group__ul"><li class="code-group__li"><button class="code-group__nav-tab code-group__nav-tab-active" ariapressed="true" ariaexpanded="true">开源驱动 AMDGPU</button></li><li class="code-group__li"><button class="code-group__nav-tab" ariapressed="false" ariaexpanded="false">开源 ATI 驱动</button></li></ul></div><!--[--><div class="code-group-item" aria-selected="false"><!--[--><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">sudo</span> pacman -S mesa lib32-mesa xf86-video-amdgpu vulkan-radeon lib32-vulkan-radeon
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><!--]--></div><div class="code-group-item" aria-selected="false"><!--[--><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">sudo</span> pacman -S mesa lib32-mesa xf86-video-ati
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><!--]--></div><!--]--></div><h2 id="独立显卡" tabindex="-1"><a class="header-anchor" href="#独立显卡" aria-hidden="true">#</a> 独立显卡</h2><h3 id="nvidia-独立显卡" tabindex="-1"><a class="header-anchor" href="#nvidia-独立显卡" aria-hidden="true">#</a> NVIDIA 独立显卡</h3><div class="custom-container tip"><p class="custom-container-title">ℹ️ 提示</p><p>部分 NVIDIA 独立显卡目前在 archlinux 下体验非常不好，存在以下问题：</p><ol><li>部分桌面特效（如窗口惯性晃动）很卡</li><li>游戏无法正常运行</li><li>画面撕裂</li></ol><p>若遇到了上述问题，建议在 archlinux 中还是单独使用核芯显卡（如果有）吧（还可以节省电量）。如果要 🎮 打游戏不妨重启到 win10。</p></div><p>如有需要可以参阅 <a href="https://wiki.archlinux.org/title/NVIDIA_(%E7%AE%80%E4%BD%93%E4%B8%AD%E6%96%87)" target="_blank" rel="noopener noreferrer">archWiki 相关内容<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>。</p><ul><li>较新型号的独立显卡使用以下命令直接安装如下几个包即可：</li></ul><div class="code-group"><div class="code-group__nav"><ul class="code-group__ul"><li class="code-group__li"><button class="code-group__nav-tab code-group__nav-tab-active" ariapressed="true" ariaexpanded="true">linux</button></li><li class="code-group__li"><button class="code-group__nav-tab" ariapressed="false" ariaexpanded="false">others</button></li></ul></div><!--[--><div class="code-group-item" aria-selected="false"><!--[--><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">sudo</span> pacman -S nvidia nvidia-settings lib32-nvidia-utils <span class="token comment"># 必须安装</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><!--]--></div><div class="code-group-item" aria-selected="false"><!--[--><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">sudo</span> pacman -S nvidia-dkms nvidia-settings lib32-nvidia-utils <span class="token comment"># 必须安装</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><!--]--></div><!--]--></div><ul><li>如果是 GeForce 630 以下到 GeForce 400 系列的老卡，使用以下命令安装 <a href="https://aur.archlinux.org/packages/nvidia-390xx-dkms/" target="_blank" rel="noopener noreferrer">nvidia-390xx-dkms<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a><sup>aur</sup> 及其 32 位支持包：</li></ul><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>yay -S nvidia-390xx-dkms nvidia-settings lib32-nvidia-390xx-utils
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><ul><li>再老的显卡直接使用以下命令安装 <a href="https://wiki.archlinux.org/title/Nouveau_(%E7%AE%80%E4%BD%93%E4%B8%AD%E6%96%87)" target="_blank" rel="noopener noreferrer">开源驱动<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a> 即可：</li></ul><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">sudo</span> pacman -S mesa lib32-mesa xf86-video-nouveau
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><div class="custom-container tip"><p class="custom-container-title">ℹ️ 提示</p><p>安装 NVIDIA 官方的驱动之后，需要编辑 <code>/etc/mkinitcpio.conf</code>，在 <code>HOOKS</code> 一行删除 <code>kms</code> 并保存，然后执行 <code>mkinitcpio -P</code> 重新生成一次镜像。这能防止 initramfs 包含 nouveau 模块，避免 nouveau 和官方驱动的冲突。</p></div><h3 id="amd-独立显卡" tabindex="-1"><a class="header-anchor" href="#amd-独立显卡" aria-hidden="true">#</a> AMD 独立显卡</h3><p>AMD 独立显卡的驱动安装步骤实际上<strong>和 AMD 核芯显卡是相同的</strong>，都需要先确定架构，然后选定正确的驱动安装即可。参考步骤 <a aria-current="page" href="/rookie/graphic-driver.html#amd-%E6%A0%B8%E8%8A%AF%E6%98%BE%E5%8D%A1" class="router-link-active router-link-exact-active">AMD 核芯显卡</a>。</p><h2 id="双显卡-核显-独显" tabindex="-1"><a class="header-anchor" href="#双显卡-核显-独显" aria-hidden="true">#</a> 双显卡（核显 + 独显）</h2><p>如有需要可以参阅 <a href="https://wiki.archlinux.org/title/PRIME_(%E7%AE%80%E4%BD%93%E4%B8%AD%E6%96%87)" target="_blank" rel="noopener noreferrer">archWiki 相关内容<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>。</p><h3 id="nvidia-独立显卡-1" tabindex="-1"><a class="header-anchor" href="#nvidia-独立显卡-1" aria-hidden="true">#</a> NVIDIA 独立显卡</h3><div class="custom-container tip"><p class="custom-container-title">ℹ️ 提示</p><p>optimus-manager 已经支持 AMD 核芯显卡 + NVIDIA 独立显卡组合。</p></div><p>如有需要可以参考 <a href="https://github.com/Askannz/optimus-manager/wiki" target="_blank" rel="noopener noreferrer">optimus-manager 官方文档<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>。</p><p>同时拥有核芯显卡与独立显卡的笔记本电脑，同样需要<strong>按照上述步骤先安装各个对应的软件包</strong>。除此之外还需要安装 optimus-manager<sup>cn / aur</sup> 以及其图形前端 optimus-manager-qt<sup>aur</sup>。通过该程序可以在核芯显卡和独立显卡间轻松切换。optimus-manager 提供三种模式 —— 分别为仅用独显、仅用核显以及 hybrid 动态切换模式。</p><ol><li>使用以下命令安装相关软件包：</li></ol><div class="code-group"><div class="code-group__nav"><ul class="code-group__ul"><li class="code-group__li"><button class="code-group__nav-tab code-group__nav-tab-active" ariapressed="true" ariaexpanded="true">cn</button></li><li class="code-group__li"><button class="code-group__nav-tab" ariapressed="false" ariaexpanded="false">aur</button></li></ul></div><!--[--><div class="code-group-item" aria-selected="false"><!--[--><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>yay -S optimus-manager optimus-manager-qt
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><!--]--></div><div class="code-group-item" aria-selected="false"><!--[--><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>yay -S aur/optimus-manager optimus-manager-qt
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><!--]--></div><!--]--></div><ol start="2"><li>安装完成后重启即可使用。optimus-manager 安装完成后会默认设置 <code>optimus-manager.service</code> 服务自动启动，但建议还是通过以下命令手动设置一下：</li></ol><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">sudo</span> systemctl <span class="token builtin class-name">enable</span> optimus-manager.service
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><ol start="3"><li>重启后在在菜单栏打开 optimus-manager 即可使用。可在其设置中设置开机自动启动：</li></ol><p><img src="/assets/optimus-manager-1.a06ad43e.png" alt="optimus-manager-1"></p><p>此时你应该已经可以进行显卡切换了。</p><div class="custom-container tip"><p class="custom-container-title">ℹ️ 提示</p><p>如果有问题，请详细阅读 optimus-manager 的文档，里面有详细的描述。由于各类问题太多，本文不再赘述。此处仅列出几项较为重要的注意事项:</p><ul><li>如果需要在独显和核显模式间切换，要注意你没安装各类 GPU 监控插件，它们会阻止显卡切换，导致不可预料的错误</li><li>不要使用 Nvidia Control Panel 中的 <code>Save to X Configuration file</code> ，会导致配置冲突</li><li>在显卡之间的切换时，重新登陆后如在 splash screen 卡住或者黑屏，可以尝试按照上述提示在 <code>tty1 ~ tty6</code> 之间进行切换</li></ul></div><h4 id="动态切换" tabindex="-1"><a class="header-anchor" href="#动态切换" aria-hidden="true">#</a> 动态切换</h4><div class="custom-container tip"><p class="custom-container-title">ℹ️ 提示</p><p>hybrid 动态切换模式并不是自动的（类似 win10），需要手动添加环境变量。</p></div><p>hybrid 动态切换模式本质上是使用<strong>针对使用闭源驱动</strong>的双显卡 <a href="https://wiki.archlinux.org/title/PRIME#PRIME_render_offload" target="_blank" rel="noopener noreferrer">PRIME<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a> 方法进行切换 —— 这需要设置三个环境变量。有两种方法：</p><ol><li><p>通过命令手动添加前缀，也可直接添加环境变量在全局环境下（不推荐）。如果加在了全局环境中，在从 hybrid 动态切换模式切换到其他模式之前一定要去掉这三个环境变量，否则会黑屏</p></li><li><p>用 nvidia-prime 包提供的命令 <code>prime-run</code></p></li></ol><h5 id="prime-run-方法" tabindex="-1"><a class="header-anchor" href="#prime-run-方法" aria-hidden="true">#</a> prime-run 方法</h5><div class="custom-container tip"><p class="custom-container-title">ℹ️ 提示</p><p><code>prime-run</code> 部分应用可以不需要安装 optimus-manager，直接运行。</p><p>但不推荐这样，因为除了部分应用会报错之外也无法使用仅独立显卡模式。</p></div><ol><li>通过以下命令安装 nvidia-prime 包：</li></ol><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">sudo</span> pacman -S nvidia-prime
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><ol start="2"><li>通过以下命令（请将 <code>%command%</code> 替换为要运行的命令）以使用 NVIDIA 独立显卡运行程序：</li></ol><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>prime-run %command%
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>运行 steam 游戏的例子：</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>prime-run steam steam://rungameid/570 <span class="token comment"># 运行 Dota 2</span>
prime-run steam steam://rungameid/730 <span class="token comment"># 运行 CS:GO</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><div class="custom-container tip"><p class="custom-container-title">ℹ️ 提示</p><p>steam 游戏的启动参数 <code>steam://rungameid/xxx</code> 可通过以下方式查找：</p><ol><li>右键需要运行的游戏图标 &gt; 点击 <code>编辑应用程序...</code>：</li></ol><p><img src="/assets/steam-id-1.07f61afb.png" alt="steam-id_step-1"></p><ol start="2"><li>在 <code>应用程序</code> 选项卡 &gt; <code>命令</code> 处查看：</li></ol><p><img src="/assets/steam-id-2.6b05d975.png" alt="steam-id_step-2"></p></div><h5 id="环境变量方法" tabindex="-1"><a class="header-anchor" href="#环境变量方法" aria-hidden="true">#</a> 环境变量方法</h5><h6 id="手动输入" tabindex="-1"><a class="header-anchor" href="#手动输入" aria-hidden="true">#</a> 手动输入</h6><p>通过以下命令（请将 <code>%command%</code> 替换为要运行的命令）以使用 NVIDIA 独立显卡运行程序：</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token assign-left variable">__NV_PRIME_RENDER_OFFLOAD</span><span class="token operator">=</span><span class="token number">1</span> <span class="token assign-left variable">__GLX_VENDOR_LIBRARY_NAME</span><span class="token operator">=</span><span class="token string">&quot;nvidia&quot;</span> <span class="token assign-left variable">__VK_LAYER_NV_optimus</span><span class="token operator">=</span><span class="token string">&quot;NVIDIA_only&quot;</span> %command%
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>运行 steam 游戏的例子：</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token assign-left variable">__NV_PRIME_RENDER_OFFLOAD</span><span class="token operator">=</span><span class="token number">1</span> <span class="token assign-left variable">__GLX_VENDOR_LIBRARY_NAME</span><span class="token operator">=</span><span class="token string">&quot;nvidia&quot;</span> <span class="token assign-left variable">__VK_LAYER_NV_optimus</span><span class="token operator">=</span><span class="token string">&quot;NVIDIA_only&quot;</span>  steam steam://rungameid/570 <span class="token comment"># 运行 Dota 2</span>
<span class="token assign-left variable">__NV_PRIME_RENDER_OFFLOAD</span><span class="token operator">=</span><span class="token number">1</span> <span class="token assign-left variable">__GLX_VENDOR_LIBRARY_NAME</span><span class="token operator">=</span><span class="token string">&quot;nvidia&quot;</span> <span class="token assign-left variable">__VK_LAYER_NV_optimus</span><span class="token operator">=</span><span class="token string">&quot;NVIDIA_only&quot;</span>  steam steam://rungameid/730 <span class="token comment"># 运行 CS:GO</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><h6 id="全局变量" tabindex="-1"><a class="header-anchor" href="#全局变量" aria-hidden="true">#</a> 全局变量</h6><div class="custom-container warning"><p class="custom-container-title">⚠️ 注意</p><p><a href="https://github.com/Askannz/optimus-manager/wiki/Nvidia-GPU-offloading-for-%22hybrid%22-mode#setup" target="_blank" rel="noopener noreferrer">optimus-manager 官方文档<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a> 中不推荐将此环境变量添加到全局环境。</p><p><em>It is not recommended to set those variables system-wide (like in <code>/etc/environment</code>), since it would defeat the point of hybrid mode, and can also break desktop compositing on some environment (resulting in a black screen).</em></p><p>也就是说会遇到这些问题：</p><ol><li>Kwin / 显示特效混合器（混成器）奔溃（毛玻璃效果消失，原本是透明或毛玻璃效果的背景变黑）</li><li>黑屏</li></ol></div><ol><li>使用 <code>vim</code> 编辑 <code>/etc/environment</code> 文件：</li></ol><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">sudo</span> <span class="token function">vim</span> /etc/environment
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>加入以下内容：</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token assign-left variable">__NV_PRIME_RENDER_OFFLOAD</span><span class="token operator">=</span><span class="token number">1</span>
<span class="token assign-left variable">__GLX_VENDOR_LIBRARY_NAME</span><span class="token operator">=</span><span class="token string">&quot;nvidia&quot;</span>
<span class="token assign-left variable">__VK_LAYER_NV_optimus</span><span class="token operator">=</span><span class="token string">&quot;NVIDIA_only&quot;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ol start="2"><li>保存并退出 <code>vim</code></li></ol><h4 id="电源管理" tabindex="-1"><a class="header-anchor" href="#电源管理" aria-hidden="true">#</a> 电源管理</h4><div class="custom-container tip"><p class="custom-container-title">ℹ️ 提示</p><p>如果不是强烈追求能效控制以及注重电池寿命的用户，那么可以略过此段。配置电源管理需要针对你的硬件以及笔记本型号尝试正确的电源管理方式。</p><p>此部分的设置可能导致黑屏，并且尝试过程可能较长，也可能会遇到各类问题。请根据自身需求和能力选择是否操作。</p></div><p>电源管理做的事情是，<strong>在只用核显的模式下，确保正确关闭独立显卡</strong>；而在混合模式下，绝大多数情况下 NVIDIA 模块实际是始终开启的，<strong>电源管理并不生效</strong>。</p><p>这件事情其实很复杂，因为对于不同的显卡型号，以及笔记本型号的组合，可行的方案都是不同的。笼统来说，最广泛适用的办法是 Bbswitch。但<strong>不建议上来就按照此方式安装使用</strong>，因为某些特定的硬件就是会出问题（黑屏）。</p><p>建议按照 <a href="https://github.com/Askannz/optimus-manager/wiki/A-guide--to-power-management-options" target="_blank" rel="noopener noreferrer">optimus-manager 官方文档<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a> 一步步尝试，最后找到属于你自己电脑合适的电源管理方式。<strong>此文档必须详细阅读！</strong></p><p>针对大多数笔记本适用的 Bbswitch，此处进行安装使用的讲解。</p><ol><li>通过以下命令安装包 <code>bbswitch</code>；若使用其它内核，则安装包 <code>bbswitch-dkms</code>：</li></ol><div class="code-group"><div class="code-group__nav"><ul class="code-group__ul"><li class="code-group__li"><button class="code-group__nav-tab code-group__nav-tab-active" ariapressed="true" ariaexpanded="true">linux</button></li><li class="code-group__li"><button class="code-group__nav-tab" ariapressed="false" ariaexpanded="false">others</button></li></ul></div><!--[--><div class="code-group-item" aria-selected="false"><!--[--><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">sudo</span> pacman -S bbswitch
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><!--]--></div><div class="code-group-item" aria-selected="false"><!--[--><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">sudo</span> pacman -S bbswitch-dkms
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><!--]--></div><!--]--></div><ol start="2"><li>右键 optimus-manager 的托盘图标 &gt; 点击 <code>设置</code> &gt; 在 Optimus 选项卡中的 <code>switch method</code> 中选择 <code>Bbswitch</code> 即可：</li></ol><p><img src="/assets/bbswitch.93d35d6f.png" alt="Bbswitch"></p><ol start="3"><li>重启之后，若使用仅核显模式使用如下命令验证 NVIDIA 独立显卡是否被禁用：</li></ol><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>lspci <span class="token operator">|</span> <span class="token function">grep</span> NVIDIA
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p><img src="/assets/off-check.f29832a9.png" alt="off-check"></p><p>若有 <code>rev ff</code> 字样，则表示独显已经成功禁用。</p><h3 id="amd-独立显卡-1" tabindex="-1"><a class="header-anchor" href="#amd-独立显卡-1" aria-hidden="true">#</a> AMD 独立显卡</h3><p>虽然 AMD 独立显卡无法使用 optimus-manager，但可以使用<strong>针对使用开源驱动</strong>的双显卡 <a href="https://wiki.archlinux.org/title/PRIME#For_open_source_drivers_-_PRIME" target="_blank" rel="noopener noreferrer">PRIME<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a> 方法进行切换。也就是使用 <code>DRI_PRIME=1</code> 前缀使用独立显卡（可能还更简单了？🤔）。</p><ul><li>通过以下命令（请将 <code>%command%</code> 替换为要运行的命令）以使用 AMD 独立显卡运行程序：</li></ul><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token assign-left variable">DRI_PRIME</span><span class="token operator">=</span><span class="token number">1</span> %command%
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>运行 steam 游戏的例子：</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token assign-left variable">DRI_PRIME</span><span class="token operator">=</span><span class="token number">1</span> steam steam://rungameid/570 <span class="token comment"># 运行 Dota 2</span>
<span class="token assign-left variable">DRI_PRIME</span><span class="token operator">=</span><span class="token number">1</span> steam steam://rungameid/730 <span class="token comment"># 运行 CS:GO</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>可以使用以下命令分别对核芯显卡和独立显卡进行性能测试，选择分数更高的一个使用：</li></ul><div class="code-group"><div class="code-group__nav"><ul class="code-group__ul"><li class="code-group__li"><button class="code-group__nav-tab code-group__nav-tab-active" ariapressed="true" ariaexpanded="true">核芯显卡</button></li><li class="code-group__li"><button class="code-group__nav-tab" ariapressed="false" ariaexpanded="false">独立显卡</button></li></ul></div><!--[--><div class="code-group-item" aria-selected="false"><!--[--><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>glmark2
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><!--]--></div><div class="code-group-item" aria-selected="false"><!--[--><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token assign-left variable">DRI_PRIME</span><span class="token operator">=</span><span class="token number">1</span> glmark2
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><!--]--></div><!--]--></div><p>关于 glmark2 的说明请参阅 <a aria-current="page" href="/rookie/graphic-driver.html#glmark2" class="router-link-active router-link-exact-active">glmark2</a>。</p><ul><li>可以在 steam 游戏的启动前缀中加入 <code>DRI_PRIME=1 mangohud %command%</code> 来使用独显的同时显示帧数等信息。关于 <a href="https://aur.archlinux.org/packages/mangohud" target="_blank" rel="noopener noreferrer">mangohud<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a><sup>aur</sup> 的使用请参阅 <a href="">这里</a>。</li></ul><h2 id="性能测试" tabindex="-1"><a class="header-anchor" href="#性能测试" aria-hidden="true">#</a> 性能测试</h2><p>如有需要可以参考 <a href="https://wiki.archlinux.org/title/Benchmarking_(%E7%AE%80%E4%BD%93%E4%B8%AD%E6%96%87)" target="_blank" rel="noopener noreferrer">archWiki 相关内容<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>。</p><h3 id="glxgears" tabindex="-1"><a class="header-anchor" href="#glxgears" aria-hidden="true">#</a> glxgears</h3><p>最传统和广为人知的方式是使用 <code>glxgears</code> 命令进行测试，其属于 <a href="https://www.archlinux.org/packages/extra/x86_64/mesa-utils/" target="_blank" rel="noopener noreferrer">mesa-utils<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a> 包。</p><ol><li>通过以下命令安装 <a href="https://www.archlinux.org/packages/extra/x86_64/mesa-utils/" target="_blank" rel="noopener noreferrer">mesa-utils<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a> 包（可能已经安装了）：</li></ol><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">sudo</span> pacman -S mesa-utils
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><ol start="2"><li>通过以下命令进行测试：</li></ol><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>glxgears
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>随后会弹出一个小窗口运行测试程序：</p><p><img src="/assets/glxgears-1.72772630.png" alt="glxgears-1"></p><p>帧数会打印在终端中：</p><p><img src="/assets/glxgears-2.ba4c8dc8.png" alt="glxgears-2"></p><ol start="3"><li>使用 <code>Ctrl</code> + <code>C</code> 退出测试</li></ol><p><code>glxgears</code> 仅仅只能提供简单的测试场景及帧数显示，只测试了当前 OpenGL 功能的一小部分，功能明显不足。笔者推荐如下两种工具。</p><h3 id="glmark2" tabindex="-1"><a class="header-anchor" href="#glmark2" aria-hidden="true">#</a> glmark2</h3><p>glmark2 提供了一系列丰富的测试，涉及图形单元性能（缓冲、建筑、照明、纹理等）的不同方面，允许进行更全面和有意义的测试。每次测试单独计算帧速率。最终，程序根据之前的所有测试给出一个最终分数。在 archlinux 上属于包 <a href="https://aur.archlinux.org/packages/glmark2/" target="_blank" rel="noopener noreferrer">glmark2<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a><sup>cn / aur</sup>。</p><ol><li>使用以下命令安装 glmark2：</li></ol><div class="code-group"><div class="code-group__nav"><ul class="code-group__ul"><li class="code-group__li"><button class="code-group__nav-tab code-group__nav-tab-active" ariapressed="true" ariaexpanded="true">cn</button></li><li class="code-group__li"><button class="code-group__nav-tab" ariapressed="false" ariaexpanded="false">aur</button></li></ul></div><!--[--><div class="code-group-item" aria-selected="false"><!--[--><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">sudo</span> pacman -S glmark2
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><!--]--></div><div class="code-group-item" aria-selected="false"><!--[--><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>yay -S aur/glmark2
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><!--]--></div><!--]--></div><ol start="2"><li>使用以下命令启动 glmark2：</li></ol><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>glmark2
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>随后会弹出一个小窗口运行测试程序：</p><p><img src="/assets/glmark2-1.f5df1cb2.png" alt="glmark2-1"></p><p>以笔者的硬件为例（核芯显卡），测试结果如下：</p><p><img src="/assets/glmark2-2.180e902b.png" alt="glmark2-2"></p><h3 id="unigine-benchmark" tabindex="-1"><a class="header-anchor" href="#unigine-benchmark" aria-hidden="true">#</a> Unigine benchmark</h3><p>Unigine 3D 引擎是一个更全面的基准测试工具。截止目前有五个版本，从新到旧分别是：</p><ul><li>superposition<sup>EULA</sup>（2017）</li><li>valley<sup>EULA</sup>（2013）</li><li>heaven<sup>EULA</sup>（2009）</li><li>tropics<sup>EULA</sup>（2008）</li><li>sanctuary<sup>EULA</sup>（2007）</li></ul><ol><li>可以使用以下命令从 <a href="https://aur.archlinux.org/packages/?O=0&amp;K=unigine" target="_blank" rel="noopener noreferrer">AUR<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a> 下载全部版本（选一个即可）：</li></ol><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>yay -S unigine-superposition
yay -S unigine-valley
yay -S unigine-heaven
yay -S unigine-tropics
yay -S unigine-sanctuary
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><img src="/assets/unigine-heaven-1.26c367ea.png" alt="unigine-heaven_step-1"></p><ol start="2"><li>使用以下命令启动 Unigine benchmark（输入对应安装的版本）：</li></ol><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>unigine-superposition
unigine-valley
unigine-heaven
unigine-tropics
unigine-sanctuary
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><img src="/assets/unigine-heaven-2.115d7da7.png" alt="unigine-heaven_step-2"></p><ol start="3"><li><p>调整参数后，点击 <code>RUN</code> 即可进入测试，帧数会显示在右上角</p></li><li><p>点击左上角 <code>基准</code> 开始基准测试</p></li><li><p>点击左上角 <code>退出</code> 并 <code>确定</code> 即可退出测试</p></li></ol><p>此基准测试工具拥有实时的环境遮挡、来自不同来源的相互关联的灯光、HDR 效果图、逼真的水和具有大气光散射的动态天空。此外还可以设置抗锯齿级别、纹理质量和滤波、各向异性和着色器质量。</p><h2 id="显卡信息查看" tabindex="-1"><a class="header-anchor" href="#显卡信息查看" aria-hidden="true">#</a> 显卡信息查看</h2><h3 id="nvidia-独立显卡-2" tabindex="-1"><a class="header-anchor" href="#nvidia-独立显卡-2" aria-hidden="true">#</a> NVIDIA 独立显卡</h3><p><code>nvidia-settings</code> 这个包即可全面的展示显卡相关信息（在步骤 <a aria-current="page" href="/rookie/graphic-driver.html#%E7%8B%AC%E7%AB%8B%E6%98%BE%E5%8D%A1" class="router-link-active router-link-exact-active">NVIDIA 独立显卡</a> 中已经安装）。</p><h3 id="amd-独立显卡-核芯显卡" tabindex="-1"><a class="header-anchor" href="#amd-独立显卡-核芯显卡" aria-hidden="true">#</a> AMD 独立显卡 / 核芯显卡</h3><ol><li>通过以下命令安装 <a href="https://aur.archlinux.org/packages/?O=0&amp;SeB=nd&amp;K=radeon-profile-git&amp;outdated=&amp;SB=n&amp;SO=a&amp;PP=50&amp;do_Search=Go" target="_blank" rel="noopener noreferrer">radeon-profile-git<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a><sup>aur</sup> 包以及其依赖 <a href="https://aur.archlinux.org/packages/?O=0&amp;SeB=nd&amp;K=radeon-profile-daemon-git&amp;outdated=&amp;SB=n&amp;SO=a&amp;PP=50&amp;do_Search=Go" target="_blank" rel="noopener noreferrer">radeon-profile-daemon-git<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a><sup>aur</sup>：</li></ol><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>yay -S radeon-profile-git radeon-profile-daemon-git
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><ol start="2"><li>使用以下命令启动这个进程，即可以图形化的方式查看 AMD 显卡信息：</li></ol><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">sudo</span> systemctl <span class="token builtin class-name">enable</span> --now radeon-profile-daemon.service
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><div class="custom-container tip"><p class="custom-container-title">ℹ️ 提示</p><p>不要对左下角的 <code>auto low high</code> 进行更改，有 bug 会导致卡死。</p><p>同时，显存占用在某些型号显卡上展示可能有误。</p></div></div><!--[--><!--]--></div><footer class="page-meta"><div class="meta-item edit-link"><a class="external-link meta-item-label" href="https://github.com/NakanoMikuOrg/arch-guide/edit/main/docs/rookie/graphic-driver.md" rel="noopener noreferrer" target="_blank" aria-label="📝 编辑本文"><!--[--><!--]--> 📝 编辑本文 <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></div><div class="meta-item last-updated"><span class="meta-item-label">📑 最后更新: </span><!----></div><div class="meta-item contributors"><span class="meta-item-label">🎨 参与贡献: </span><span class="meta-item-info"><!--[--><!--[--><span class="contributor" title="email: RiverOnVenus@gmail.com">追</span><!--[-->, <!--]--><!--]--><!--[--><span class="contributor" title="email: 93177021+ptazithos@users.noreply.github.com">Tai Zeming</span><!--[-->, <!--]--><!--]--><!--[--><span class="contributor" title="email: wminid@yeah.net">ice-kylin</span><!--[-->, <!--]--><!--]--><!--[--><span class="contributor" title="email: 108316419+wuhang2003@users.noreply.github.com">wuhang2003</span><!----><!--]--><!--]--></span></div></footer><nav class="page-nav"><p class="inner"><span class="prev"><a href="/rookie/desktop-env-and-app.html" class="" aria-label="桌面环境与常用应用"><!--[--><!--]--> 桌面环境与常用应用 <!--[--><!--]--></a></span><span class="next"><a href="/rookie/transparent.html" class="" aria-label="透明代理"><!--[--><!--]--> 透明代理 <!--[--><!--]--></a></span></p></nav><!--[--><!--]--></main><!--]--></div><!----><!--]--></div>
    <script type="module" src="/assets/app.143e7d7b.js" defer></script>
  </body>
</html>
