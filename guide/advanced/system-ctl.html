<!DOCTYPE html>
<html lang="zh-CN" dir="ltr">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Linux 日常操作与基础知识 | archlinux 简明指南</title>
    <meta name="description" content="本指南包含 archlinux 安装、配置、维护等，帮助新手快速上手">
    <meta name="generator" content="VitePress v1.6.3">
    <link rel="preload stylesheet" href="/assets/style.5e83HKgd.css" as="style">
    <link rel="preload stylesheet" href="/vp-icons.css" as="style">
    
    <script type="module" src="/assets/app.4v1-Eg3k.js"></script>
    <link rel="preload" href="/assets/inter-roman-latin.Di8DUHzh.woff2" as="font" type="font/woff2" crossorigin="">
    <link rel="modulepreload" href="/assets/chunks/theme.DCyI34lI.js">
    <link rel="modulepreload" href="/assets/chunks/framework.CDhRSyRB.js">
    <link rel="modulepreload" href="/assets/guide_advanced_system-ctl.md.BgFTX3o5.lean.js">
    <script src="/js/google.js"></script>
    <script src="/js/baidu.js"></script>
    <meta name="title" content="archlinux 简明指南 —— Arch Linux 安装使用教程">
    <meta name="keywords" href="archlinux 指南,archlinux 教程,archlinux 安装,archlinux tutorial,archlinux guide,archlinux install,archlinux,Arch Linux,Linux,tutorial,guide,ebook">
    <meta property="og:url" content="https://arch.icekylin.online">
    <meta property="og:type" content="website">
    <meta property="og:title" content="archlinux 简明指南">
    <meta property="og:description" content="本指南包含 archlinux 安装、配置、维护等，帮助新手快速上手">
    <meta property="og:image" content="https://arch.icekylin.online/images/og.png">
    <meta property="twitter:card" content="summary_large_image">
    <meta property="twitter:domain" content="arch.icekylin.online">
    <meta property="twitter:url" content="https://arch.icekylin.online">
    <meta property="twitter:title" content="archlinux 简明指南">
    <meta property="twitter:description" content="本指南包含 archlinux 安装、配置、维护等，帮助新手快速上手">
    <meta property="twitter:image" content="https://arch.icekylin.online/images/og.png">
    <script id="check-dark-mode">(()=>{const e=localStorage.getItem("vitepress-theme-appearance")||"auto",a=window.matchMedia("(prefers-color-scheme: dark)").matches;(!e||e==="auto"?a:e==="dark")&&document.documentElement.classList.add("dark")})();</script>
    <script id="check-mac-os">document.documentElement.classList.toggle("mac",/Mac|iPhone|iPod|iPad/i.test(navigator.platform));</script>
  </head>
  <body>
    <div id="app"><div class="Layout" data-v-c1e4d64d><!--[--><!--]--><!--[--><span tabindex="-1" data-v-0cc16f50></span><a href="#VPContent" class="VPSkipLink visually-hidden" data-v-0cc16f50>Skip to content</a><!--]--><!----><header class="VPNav" data-v-c1e4d64d data-v-2cdbcd11><div class="VPNavBar" data-v-2cdbcd11 data-v-dc6ce67c><div class="wrapper" data-v-dc6ce67c><div class="container" data-v-dc6ce67c><div class="title" data-v-dc6ce67c><div class="VPNavBarTitle has-sidebar" data-v-dc6ce67c data-v-225be768><a class="title" href="/" data-v-225be768><!--[--><!--]--><!--[--><img class="VPImage logo" src="/images/logo.svg" alt data-v-c148f7ba><!--]--><!----><!--[--><!--]--></a></div></div><div class="content" data-v-dc6ce67c><div class="content-body" data-v-dc6ce67c><!--[--><!--]--><div class="VPNavBarSearch search" data-v-dc6ce67c><!--[--><!----><div id="docsearch"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><span class="vp-icon DocSearch-Search-Icon"></span><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"><kbd class="DocSearch-Button-Key"></kbd><kbd class="DocSearch-Button-Key">K</kbd></span></button></div><!--]--></div><nav aria-labelledby="main-nav-aria-label" class="VPNavBarMenu menu" data-v-dc6ce67c data-v-231145b0><span id="main-nav-aria-label" class="visually-hidden" data-v-231145b0> Main Navigation </span><!--[--><!--[--><div class="VPFlyout VPNavBarMenuGroup active" data-v-231145b0 data-v-57c643ee><button type="button" class="button" aria-haspopup="true" aria-expanded="false" data-v-57c643ee><span class="text" data-v-57c643ee><!----><span data-v-57c643ee>🧭 指南</span><span class="vpi-chevron-down text-icon" data-v-57c643ee></span></span></button><div class="menu" data-v-57c643ee><div class="VPMenu" data-v-57c643ee data-v-056707df><div class="items" data-v-056707df><!--[--><!--[--><div class="VPMenuLink" data-v-056707df data-v-c9429104><a class="VPLink link" href="/guide/" data-v-c9429104><!--[--><span data-v-c9429104>🎐 千里之行</span><!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-056707df data-v-c9429104><a class="VPLink link" href="/guide/prepare/head-on-blow.html" data-v-c9429104><!--[--><span data-v-c9429104>ℹ️ 尝试之前</span><!--]--></a></div><!--]--><!--[--><div class="VPMenuGroup" data-v-056707df data-v-a3183301><p class="title" data-v-a3183301>🌱 新手上路</p><!--[--><!--[--><div class="VPMenuLink" data-v-a3183301 data-v-c9429104><a class="VPLink link" href="/guide/rookie/pre-install.html" data-v-c9429104><!--[--><span data-v-c9429104>💾 基础安装</span><!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-a3183301 data-v-c9429104><a class="VPLink link" href="/guide/rookie/desktop-env-and-app.html" data-v-c9429104><!--[--><span data-v-c9429104>🔩 进阶安装</span><!--]--></a></div><!--]--><!--]--></div><!--]--><!--[--><div class="VPMenuGroup" data-v-056707df data-v-a3183301><p class="title" data-v-a3183301>🛠️ 进阶话题</p><!--[--><!--[--><div class="VPMenuLink" data-v-a3183301 data-v-c9429104><a class="VPLink link" href="/guide/advanced/optional-cfg-1.html" data-v-c9429104><!--[--><span data-v-c9429104>⚙️ 可选配置</span><!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-a3183301 data-v-c9429104><a class="VPLink link" href="/guide/advanced/beauty-1.html" data-v-c9429104><!--[--><span data-v-c9429104>🌸 系统美化</span><!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-a3183301 data-v-c9429104><a class="VPLink link active" href="/guide/advanced/system-ctl.html" data-v-c9429104><!--[--><span data-v-c9429104>🧰 系统管理</span><!--]--></a></div><!--]--><!--]--></div><!--]--><!--]--></div><!--[--><!--]--></div></div></div><!--]--><!--[--><div class="VPFlyout VPNavBarMenuGroup" data-v-231145b0 data-v-57c643ee><button type="button" class="button" aria-haspopup="true" aria-expanded="false" data-v-57c643ee><span class="text" data-v-57c643ee><!----><span data-v-57c643ee>📦 应用参考</span><span class="vpi-chevron-down text-icon" data-v-57c643ee></span></span></button><div class="menu" data-v-57c643ee><div class="VPMenu" data-v-57c643ee data-v-056707df><div class="items" data-v-056707df><!--[--><!--[--><div class="VPMenuGroup" data-v-056707df data-v-a3183301><p class="title" data-v-a3183301>💽 常用软件</p><!--[--><!--[--><div class="VPMenuLink" data-v-a3183301 data-v-c9429104><a class="VPLink link" href="/app/common/daily.html" data-v-c9429104><!--[--><span data-v-c9429104>📐 日常办公</span><!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-a3183301 data-v-c9429104><a class="VPLink link" href="/app/common/media.html" data-v-c9429104><!--[--><span data-v-c9429104>🎯 其它内容</span><!--]--></a></div><!--]--><!--]--></div><!--]--><!--[--><div class="VPMenuGroup" data-v-056707df data-v-a3183301><p class="title" data-v-a3183301>🔬 专有领域</p><!--[--><!--[--><div class="VPMenuLink" data-v-a3183301 data-v-c9429104><a class="VPLink link" href="/app/exclusive/video.html" data-v-c9429104><!--[--><span data-v-c9429104>🎹 媒体创作</span><!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-a3183301 data-v-c9429104><a class="VPLink link" href="/app/exclusive/code.html" data-v-c9429104><!--[--><span data-v-c9429104>🖥️ 信息技术</span><!--]--></a></div><!--]--><!--]--></div><!--]--><!--]--></div><!--[--><!--]--></div></div></div><!--]--><!--[--><div class="VPFlyout VPNavBarMenuGroup" data-v-231145b0 data-v-57c643ee><button type="button" class="button" aria-haspopup="true" aria-expanded="false" data-v-57c643ee><span class="text" data-v-57c643ee><!----><span data-v-57c643ee>🍰 写在后面</span><span class="vpi-chevron-down text-icon" data-v-57c643ee></span></span></button><div class="menu" data-v-57c643ee><div class="VPMenu" data-v-57c643ee data-v-056707df><div class="items" data-v-056707df><!--[--><!--[--><div class="VPMenuLink" data-v-056707df data-v-c9429104><a class="VPLink link" href="/postscript/contributor-covenant.html" data-v-c9429104><!--[--><span data-v-c9429104>贡献者公约</span><!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-056707df data-v-c9429104><a class="VPLink link" href="/postscript/contribute.html" data-v-c9429104><!--[--><span data-v-c9429104>贡献指南</span><!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-056707df data-v-c9429104><a class="VPLink link" href="/postscript/copyright.html" data-v-c9429104><!--[--><span data-v-c9429104>版权说明</span><!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-056707df data-v-c9429104><a class="VPLink link" href="/postscript/about.html" data-v-c9429104><!--[--><span data-v-c9429104>附录</span><!--]--></a></div><!--]--><!--]--></div><!--[--><!--]--></div></div></div><!--]--><!--]--></nav><!----><div class="VPNavBarAppearance appearance" data-v-dc6ce67c data-v-e92b9e04><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" title aria-checked="false" data-v-e92b9e04 data-v-34693888 data-v-0b62a063><span class="check" data-v-0b62a063><span class="icon" data-v-0b62a063><!--[--><span class="vpi-sun sun" data-v-34693888></span><span class="vpi-moon moon" data-v-34693888></span><!--]--></span></span></button></div><div class="VPSocialLinks VPNavBarSocialLinks social-links" data-v-dc6ce67c data-v-41ee4c41 data-v-41bcd564><!--[--><a class="VPSocialLink no-icon" href="https://github.com/nakanomikuorg/arch-guide" aria-label="github" target="_blank" rel="noopener" data-v-41bcd564 data-v-cbc3b1ba><span class="vpi-social-github"></span></a><!--]--></div><div class="VPFlyout VPNavBarExtra extra" data-v-dc6ce67c data-v-2d2f2709 data-v-57c643ee><button type="button" class="button" aria-haspopup="true" aria-expanded="false" aria-label="extra navigation" data-v-57c643ee><span class="vpi-more-horizontal icon" data-v-57c643ee></span></button><div class="menu" data-v-57c643ee><div class="VPMenu" data-v-57c643ee data-v-056707df><!----><!--[--><!--[--><!----><div class="group" data-v-2d2f2709><div class="item appearance" data-v-2d2f2709><p class="label" data-v-2d2f2709>Appearance</p><div class="appearance-action" data-v-2d2f2709><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" title aria-checked="false" data-v-2d2f2709 data-v-34693888 data-v-0b62a063><span class="check" data-v-0b62a063><span class="icon" data-v-0b62a063><!--[--><span class="vpi-sun sun" data-v-34693888></span><span class="vpi-moon moon" data-v-34693888></span><!--]--></span></span></button></div></div></div><div class="group" data-v-2d2f2709><div class="item social-links" data-v-2d2f2709><div class="VPSocialLinks social-links-list" data-v-2d2f2709 data-v-41bcd564><!--[--><a class="VPSocialLink no-icon" href="https://github.com/nakanomikuorg/arch-guide" aria-label="github" target="_blank" rel="noopener" data-v-41bcd564 data-v-cbc3b1ba><span class="vpi-social-github"></span></a><!--]--></div></div></div><!--]--><!--]--></div></div></div><!--[--><!--]--><button type="button" class="VPNavBarHamburger hamburger" aria-label="mobile navigation" aria-expanded="false" aria-controls="VPNavScreen" data-v-dc6ce67c data-v-eb38cc91><span class="container" data-v-eb38cc91><span class="top" data-v-eb38cc91></span><span class="middle" data-v-eb38cc91></span><span class="bottom" data-v-eb38cc91></span></span></button></div></div></div></div><div class="divider" data-v-dc6ce67c><div class="divider-line" data-v-dc6ce67c></div></div></div><!----></header><div class="VPLocalNav has-sidebar empty" data-v-c1e4d64d data-v-936e5443><div class="container" data-v-936e5443><button class="menu" aria-expanded="false" aria-controls="VPSidebarNav" data-v-936e5443><span class="vpi-align-left menu-icon" data-v-936e5443></span><span class="menu-text" data-v-936e5443>Menu</span></button><div class="VPLocalNavOutlineDropdown" style="--vp-vh:0px;" data-v-936e5443 data-v-f90f884a><button data-v-f90f884a>Return to top</button><!----></div></div></div><aside class="VPSidebar" data-v-c1e4d64d data-v-e62ed612><div class="curtain" data-v-e62ed612></div><nav class="nav" id="VPSidebarNav" aria-labelledby="sidebar-aria-label" tabindex="-1" data-v-e62ed612><span class="visually-hidden" id="sidebar-aria-label" data-v-e62ed612> Sidebar Navigation </span><!--[--><!--]--><!--[--><div class="no-transition group" data-v-7b25a04e><section class="VPSidebarItem level-0" data-v-7b25a04e data-v-5dee16f9><!----><div class="items" data-v-5dee16f9><!--[--><div class="VPSidebarItem level-1 is-link" data-v-5dee16f9 data-v-5dee16f9><div class="item" data-v-5dee16f9><div class="indicator" data-v-5dee16f9></div><a class="VPLink link link" href="/guide/" data-v-5dee16f9><!--[--><p class="text" data-v-5dee16f9>🎐 千里之行</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><div class="no-transition group" data-v-7b25a04e><section class="VPSidebarItem level-0" data-v-7b25a04e data-v-5dee16f9><div class="item" role="button" tabindex="0" data-v-5dee16f9><div class="indicator" data-v-5dee16f9></div><h2 class="text" data-v-5dee16f9>ℹ️ 尝试之前</h2><!----></div><div class="items" data-v-5dee16f9><!--[--><div class="VPSidebarItem level-1 is-link" data-v-5dee16f9 data-v-5dee16f9><div class="item" data-v-5dee16f9><div class="indicator" data-v-5dee16f9></div><a class="VPLink link link" href="/guide/prepare/head-on-blow.html" data-v-5dee16f9><!--[--><p class="text" data-v-5dee16f9>archlinux 真的适合我吗？</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-5dee16f9 data-v-5dee16f9><div class="item" data-v-5dee16f9><div class="indicator" data-v-5dee16f9></div><a class="VPLink link link" href="/guide/prepare/understand.html" data-v-5dee16f9><!--[--><p class="text" data-v-5dee16f9>了解 archlinux</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><div class="no-transition group" data-v-7b25a04e><section class="VPSidebarItem level-0" data-v-7b25a04e data-v-5dee16f9><div class="item" role="button" tabindex="0" data-v-5dee16f9><div class="indicator" data-v-5dee16f9></div><h2 class="text" data-v-5dee16f9>🌱 新手上路</h2><!----></div><div class="items" data-v-5dee16f9><!--[--><section class="VPSidebarItem level-1" data-v-5dee16f9 data-v-5dee16f9><div class="item" role="button" tabindex="0" data-v-5dee16f9><div class="indicator" data-v-5dee16f9></div><h3 class="text" data-v-5dee16f9>💾 基础安装</h3><!----></div><div class="items" data-v-5dee16f9><!--[--><div class="VPSidebarItem level-2 is-link" data-v-5dee16f9 data-v-5dee16f9><div class="item" data-v-5dee16f9><div class="indicator" data-v-5dee16f9></div><a class="VPLink link link" href="/guide/rookie/pre-install.html" data-v-5dee16f9><!--[--><p class="text" data-v-5dee16f9>安装前的准备</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-5dee16f9 data-v-5dee16f9><div class="item" data-v-5dee16f9><div class="indicator" data-v-5dee16f9></div><a class="VPLink link link" href="/guide/rookie/pre-virt.html" data-v-5dee16f9><!--[--><p class="text" data-v-5dee16f9>虚拟机安装前的准备</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-5dee16f9 data-v-5dee16f9><div class="item" data-v-5dee16f9><div class="indicator" data-v-5dee16f9></div><a class="VPLink link link" href="/guide/rookie/basic-install.html" data-v-5dee16f9><!--[--><p class="text" data-v-5dee16f9>archlinux 基础安装</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-5dee16f9 data-v-5dee16f9><div class="item" data-v-5dee16f9><div class="indicator" data-v-5dee16f9></div><a class="VPLink link link" href="/guide/rookie/basic-install-detail.html" data-v-5dee16f9><!--[--><p class="text" data-v-5dee16f9>基础安装详解</p><!--]--></a><!----></div><!----></div><!--]--></div></section><section class="VPSidebarItem level-1" data-v-5dee16f9 data-v-5dee16f9><div class="item" role="button" tabindex="0" data-v-5dee16f9><div class="indicator" data-v-5dee16f9></div><h3 class="text" data-v-5dee16f9>🔩 进阶安装</h3><!----></div><div class="items" data-v-5dee16f9><!--[--><div class="VPSidebarItem level-2 is-link" data-v-5dee16f9 data-v-5dee16f9><div class="item" data-v-5dee16f9><div class="indicator" data-v-5dee16f9></div><a class="VPLink link link" href="/guide/rookie/desktop-env-and-app.html" data-v-5dee16f9><!--[--><p class="text" data-v-5dee16f9>桌面环境与常用应用安装</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-5dee16f9 data-v-5dee16f9><div class="item" data-v-5dee16f9><div class="indicator" data-v-5dee16f9></div><a class="VPLink link link" href="/guide/rookie/graphic-driver.html" data-v-5dee16f9><!--[--><p class="text" data-v-5dee16f9>显卡驱动</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-5dee16f9 data-v-5dee16f9><div class="item" data-v-5dee16f9><div class="indicator" data-v-5dee16f9></div><a class="VPLink link link" href="/guide/rookie/transparent.html" data-v-5dee16f9><!--[--><p class="text" data-v-5dee16f9>透明代理</p><!--]--></a><!----></div><!----></div><!--]--></div></section><!--]--></div></section></div><div class="no-transition group" data-v-7b25a04e><section class="VPSidebarItem level-0 has-active" data-v-7b25a04e data-v-5dee16f9><div class="item" role="button" tabindex="0" data-v-5dee16f9><div class="indicator" data-v-5dee16f9></div><h2 class="text" data-v-5dee16f9>🛠️ 进阶话题</h2><!----></div><div class="items" data-v-5dee16f9><!--[--><section class="VPSidebarItem level-1" data-v-5dee16f9 data-v-5dee16f9><div class="item" role="button" tabindex="0" data-v-5dee16f9><div class="indicator" data-v-5dee16f9></div><h3 class="text" data-v-5dee16f9>⚙️ 可选配置</h3><!----></div><div class="items" data-v-5dee16f9><!--[--><div class="VPSidebarItem level-2 is-link" data-v-5dee16f9 data-v-5dee16f9><div class="item" data-v-5dee16f9><div class="indicator" data-v-5dee16f9></div><a class="VPLink link link" href="/guide/advanced/optional-cfg-1.html" data-v-5dee16f9><!--[--><p class="text" data-v-5dee16f9>可选配置（基础篇）</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-5dee16f9 data-v-5dee16f9><div class="item" data-v-5dee16f9><div class="indicator" data-v-5dee16f9></div><a class="VPLink link link" href="/guide/advanced/optional-cfg-2.html" data-v-5dee16f9><!--[--><p class="text" data-v-5dee16f9>可选配置（进阶篇）</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-5dee16f9 data-v-5dee16f9><div class="item" data-v-5dee16f9><div class="indicator" data-v-5dee16f9></div><a class="VPLink link link" href="/guide/advanced/power-ctl.html" data-v-5dee16f9><!--[--><p class="text" data-v-5dee16f9>功耗控制</p><!--]--></a><!----></div><!----></div><!--]--></div></section><section class="VPSidebarItem level-1" data-v-5dee16f9 data-v-5dee16f9><div class="item" role="button" tabindex="0" data-v-5dee16f9><div class="indicator" data-v-5dee16f9></div><h3 class="text" data-v-5dee16f9>🌸 系统美化</h3><!----></div><div class="items" data-v-5dee16f9><!--[--><div class="VPSidebarItem level-2 is-link" data-v-5dee16f9 data-v-5dee16f9><div class="item" data-v-5dee16f9><div class="indicator" data-v-5dee16f9></div><a class="VPLink link link" href="/guide/advanced/beauty-1.html" data-v-5dee16f9><!--[--><p class="text" data-v-5dee16f9>系统美化（布局）</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-5dee16f9 data-v-5dee16f9><div class="item" data-v-5dee16f9><div class="indicator" data-v-5dee16f9></div><a class="VPLink link link" href="/guide/advanced/beauty-2.html" data-v-5dee16f9><!--[--><p class="text" data-v-5dee16f9>系统美化（主题）</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-5dee16f9 data-v-5dee16f9><div class="item" data-v-5dee16f9><div class="indicator" data-v-5dee16f9></div><a class="VPLink link link" href="/guide/advanced/beauty-3.html" data-v-5dee16f9><!--[--><p class="text" data-v-5dee16f9>系统美化（终端）</p><!--]--></a><!----></div><!----></div><!--]--></div></section><section class="VPSidebarItem level-1 has-active" data-v-5dee16f9 data-v-5dee16f9><div class="item" role="button" tabindex="0" data-v-5dee16f9><div class="indicator" data-v-5dee16f9></div><h3 class="text" data-v-5dee16f9>🧰 系统管理</h3><!----></div><div class="items" data-v-5dee16f9><!--[--><div class="VPSidebarItem level-2 is-link" data-v-5dee16f9 data-v-5dee16f9><div class="item" data-v-5dee16f9><div class="indicator" data-v-5dee16f9></div><a class="VPLink link link" href="/guide/advanced/system-ctl.html" data-v-5dee16f9><!--[--><p class="text" data-v-5dee16f9>合格的系统管理员</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-5dee16f9 data-v-5dee16f9><div class="item" data-v-5dee16f9><div class="indicator" data-v-5dee16f9></div><a class="VPLink link link" href="/guide/advanced/debug.html" data-v-5dee16f9><!--[--><p class="text" data-v-5dee16f9>常见问题</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-5dee16f9 data-v-5dee16f9><div class="item" data-v-5dee16f9><div class="indicator" data-v-5dee16f9></div><a class="VPLink link link" href="/guide/advanced/make-install-disk.html" data-v-5dee16f9><!--[--><p class="text" data-v-5dee16f9>制作系统盘</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-5dee16f9 data-v-5dee16f9><div class="item" data-v-5dee16f9><div class="indicator" data-v-5dee16f9></div><a class="VPLink link link" href="/guide/advanced/btrfs.html" data-v-5dee16f9><!--[--><p class="text" data-v-5dee16f9>Btrfs 相关</p><!--]--></a><!----></div><!----></div><!--]--></div></section><!--]--></div></section></div><!--]--><!--[--><!--]--></nav></aside><div class="VPContent has-sidebar" id="VPContent" data-v-c1e4d64d data-v-ac58df2e><div class="VPDoc has-sidebar has-aside" data-v-ac58df2e data-v-dea4388b><!--[--><!--]--><div class="container" data-v-dea4388b><div class="aside" data-v-dea4388b><div class="aside-curtain" data-v-dea4388b></div><div class="aside-container" data-v-dea4388b><div class="aside-content" data-v-dea4388b><div class="VPDocAside" data-v-dea4388b data-v-315ec99f><!--[--><!--]--><!--[--><!--]--><nav aria-labelledby="doc-outline-aria-label" class="VPDocAsideOutline" data-v-315ec99f data-v-d6272279><div class="content" data-v-d6272279><div class="outline-marker" data-v-d6272279></div><div aria-level="2" class="outline-title" id="doc-outline-aria-label" role="heading" data-v-d6272279>On this page</div><ul class="VPDocOutlineItem root" data-v-d6272279 data-v-9dd33c28><!--[--><!--]--></ul></div></nav><!--[--><!--]--><div class="spacer" data-v-315ec99f></div><!--[--><!--]--><!----><!--[--><!--]--><!--[--><!--]--></div></div></div></div><div class="content" data-v-dea4388b><div class="content-container" data-v-dea4388b><!--[--><!--]--><main class="main" data-v-dea4388b><div style="position:relative;" class="vp-doc _guide_advanced_system-ctl" data-v-dea4388b><div><h1 id="linux-日常操作与基础知识" tabindex="-1">Linux 日常操作与基础知识 <a class="header-anchor" href="#linux-日常操作与基础知识" aria-label="Permalink to &quot;Linux 日常操作与基础知识&quot;">​</a></h1><blockquote><h3 id="🐱‍🚀-路漫漫其修远兮-吾将上下而求索" tabindex="-1">🐱‍🚀 路漫漫其修远兮，吾将上下而求索 <a class="header-anchor" href="#🐱‍🚀-路漫漫其修远兮-吾将上下而求索" aria-label="Permalink to &quot;🐱‍🚀 路漫漫其修远兮，吾将上下而求索&quot;">​</a></h3><p>阅读完 🌱 新手上路章节，你的系统已完全可以使用</p><p>KDE 桌面环境提供了强大的 <a href="https://zh.wikipedia.org/wiki/%E5%9B%BE%E5%BD%A2%E7%94%A8%E6%88%B7%E7%95%8C%E9%9D%A2" target="_blank" rel="noreferrer">GUI</a> 以供普通用户使用</p><p>绝大多数系统设置项可在 KDE 系统设置中找到（就像 Windows 一样！）</p><p>但如果想要游刃有余的掌控你的系统，你还需要阅读掌握本小节的内容</p></blockquote><div class="tip custom-block"><p class="custom-block-title">ℹ️ 提示</p><p>如果你想进一步详细了解本文各部分的详细知识，可以点击在各个小节给出的相关链接进行学习。</p><p>如果你不想详细了解，本章介绍的知识也足够你来应付日常的使用。</p></div><h2 id="必须掌握的-linux-知识" tabindex="-1">必须掌握的 Linux 知识 <a class="header-anchor" href="#必须掌握的-linux-知识" aria-label="Permalink to &quot;必须掌握的 Linux 知识&quot;">​</a></h2><p>此处只介绍最基本的，最必要的 Linux 知识点与小技巧。</p><ol><li><p>在 Linux 中，文件目录结构与 Windows 完全不同。Windows 存在 C 盘、D 盘等盘符，而在 Linux 中不存在这些划分。最上层的目录是根目录，路径为 <code>/</code> ，并以一个树形结构从此向下一级一级区分</p></li><li><p>对于 Linux 的树形文件结构，存在相对路径与绝对路径之分：</p><ul><li><p>绝对路径代表从根目录 <code>/</code> 开始的完整路径：</p><ul><li>比如 <code>/home/myusername/Download</code></li></ul></li><li><p>相对路径代表从当前目录或当前目录的上级目录，到目标目录的一个部分路径：</p><ul><li><p><code>.</code> 代表当前目录</p></li><li><p><code>..</code> 代表当前目录的上级目录</p></li><li><p>比如当前你所在的目录为 <code>/home/myusername</code> ，那么绝对路径下的 <code>/home/myusername/Download</code> 文件夹的相对路径即为 <code>./Download</code></p></li><li><p>比如你当前所在的路径为 <code>/home/myusername/Download</code> ，向上寻找到 <code>/home/myusername/Desktop</code> 的相对路径即为 <code>../Desktop</code></p></li></ul></li></ul></li><li><p>简单来说，Linux 中存在两类用户：</p><ul><li><p>第一类用户即为 root 用户，也称为超级用户，它拥有系统中最高的权限</p></li><li><p>第二类用户就是除了 root 用户之外的普通用户，它们可以拥有不同等级的权限</p><p>使用 root 权限时需要十分小心</p></li></ul></li><li><p>理论上来说，任何图形化界面中的操作都可以用对应的命令行命令完成。如果你打开某个程序报错，不妨试试找到它的对应启动命令，在终端中执行此命令，并观察它运行时的错误日志输出，查阅相关资料，解决问题</p></li><li><p>不能未经辨别执行来源不明的命令。举个例子：</p><div class="danger custom-block"><p class="custom-block-title">☢️ 警告</p><p>该命令具有高危险性，请勿执行。</p></div><div class="language-sh vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">echo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;c3VkbyBybSAtcmYgLyo=&quot;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> |</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> base64</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -d</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> |</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> zsh</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>它的含义是让 zsh 执行 <code>sudo rm -rf /*</code>, 会摧毁整个系统。</p></li></ol><h2 id="终端操作基础" tabindex="-1">终端操作基础 <a class="header-anchor" href="#终端操作基础" aria-label="Permalink to &quot;终端操作基础&quot;">​</a></h2><p>如果想要熟练掌握 Linux，就必须掌握终端的常见命令与使用方式。</p><div class="language-bash vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">ls</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /some_path</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> # 查看某个文件夹下的文件与子文件夹。/ 代表根目录，是 Linux 最顶端的路径，以此开头则为绝对路径</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">pwd</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> # 查看当前终端所在路径</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">cat</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /home/testuser/testfile</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> # 以输出流方式查看某个文件</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">cd</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /home/testuser</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> # 切换目录命令。将当前终端切换到某一个路径下</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">cp</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ./a.py</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ./b.py</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> # 复制命令。将当前路径下的 a.py 复制一份并命名为 b.py。./ 代表当前文件夹所在路径，以此开头则为相对路径</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">cp</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -r</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ./a</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ./b</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> # 复制整体文件夹</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">rm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> b.py</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> # 删除命令。删除 b.py</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">mv</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> a.py</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> b.py</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> # 移动（重命名）命令。将 a.py 更名为 b.py</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">mkdir</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> my_folder</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> # 新建名为 my_folder 的文件夹</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> some_command</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> # 使普通用户以 root 权限执行某些命令</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><blockquote><p>🔗 相关链接：</p><ul><li><a href="https://archlinuxstudio.github.io/ShellTutorial/#/" target="_blank" rel="noreferrer">Linux 命令行与 Shell 脚本教程</a></li></ul></blockquote><h2 id="pacman-包管理" tabindex="-1">Pacman 包管理 <a class="header-anchor" href="#pacman-包管理" aria-label="Permalink to &quot;Pacman 包管理&quot;">​</a></h2><p>在 archlinux 上安装的软件都通过 Pacman 来进行管理。</p><p>为了使用 Pacman 额外的命令需要先安装 <a href="https://archlinux.org/packages/extra/x86_64/pacman-contrib/" target="_blank" rel="noreferrer"><code>pacman-contrib</code></a><sup>extra / aur</sup>。</p><p>安装 <code>pacman-contrib</code> ：</p><div class="vp-code-group vp-adaptive-theme"><div class="tabs"><input type="radio" name="group-aR5R7" id="tab-PjaQ9iq" checked><label data-title="extra" for="tab-PjaQ9iq">extra</label><input type="radio" name="group-aR5R7" id="tab-eJ59JlK"><label data-title="aur (git)" for="tab-eJ59JlK">aur (git)</label></div><div class="blocks"><div class="language-bash vp-adaptive-theme active line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> pacman</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -S</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> pacman-contrib</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><div class="language-bash vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">yay</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -S</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> pacman-contrib-git</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div></div></div><p>可以把 Pacman 理解为一个软件管理器（软件管家？），可以进行软件的安装、删除、查询等：</p><div class="language-bash vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line highlighted"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> pacman</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -S</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> package_name</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> # 安装软件包</span></span>
<span class="line highlighted"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">pacman</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -Ss</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> # 在同步数据库中搜索包，包括包的名称和描述</span></span>
<span class="line highlighted"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> pacman</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -Syu</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> # 升级系统。 -y:标记刷新、-yy：标记强制刷新、-u：标记升级动作（一般使用 -Syu 即可）</span></span>
<span class="line highlighted"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> pacman</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -Rns</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> package_name</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> # 删除软件包，及其所有没有被其他已安装软件包使用的依赖包</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> pacman</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -R</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> package_name</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> # 删除软件包，保留其全部已经安装的依赖关系</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">pacman</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -Qi</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> package_name</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> # 检查已安装包的相关信息。-Q：查询本地软件包数据库</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">pacman</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -Qdt</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> # 找出孤立包。-d：标记依赖包、-t：标记不需要的包、-dt：合并标记孤立包</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> pacman</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -Rns</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> $(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">pacman</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -Qtdq</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 删除孤立包</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> pacman</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -Fy</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> # 更新命令查询文件列表数据库</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">pacman</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -F</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> some_command</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> # 当不知道某个命令属于哪个包时，用来在远程软件包中查询某个命令属于哪个包（即使没有安装）</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">pactree</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> package_name</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> # 查看一个包的依赖树</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><blockquote><p>🔗 相关链接：</p><ul><li><a href="https://wiki.archlinux.org/title/Pacman_(%E7%AE%80%E4%BD%93%E4%B8%AD%E6%96%87)" target="_blank" rel="noreferrer">ArchWiki 相关内容</a></li></ul><p>关于 Pacman 常见错误的排除请参阅 <a href="./debug.html">常见问题</a>。</p></blockquote><div class="danger custom-block"><p class="custom-block-title">☢️ 警告</p><p>部分 Pacman 命令具有危险性，请谨慎执行。</p></div><div class="tip custom-block"><p class="custom-block-title">ℹ️ 提示</p><p>yay 的用法和 Pacman 是基本一样的。有额外几条常用命令：</p><div class="language-bash vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line highlighted"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">yay</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> # 等同于 yay -Syu</span></span>
<span class="line highlighted"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">yay</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> package_name</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> # 等同于 yay -Ss package_name &amp;&amp; yay -S package_name</span></span>
<span class="line highlighted"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">yay</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -Ps</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> # 打印系统统计信息</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">yay</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -Yc</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> # 清理不需要的依赖</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div></div><h3 id="octopi" tabindex="-1">Octopi <a class="header-anchor" href="#octopi" aria-label="Permalink to &quot;Octopi&quot;">​</a></h3><p>此外，还可以使用图形化的包管理软件（Pacman / yay 的图形前端）<a href="https://github.com/aarnt/octopi" target="_blank" rel="noreferrer">Octopi</a><sup>aur</sup>。</p><ol><li>安装 Octopi：</li></ol><div class="vp-code-group vp-adaptive-theme"><div class="tabs"><input type="radio" name="group-F2M98" id="tab-ynTXF1n" checked><label data-title="aur" for="tab-ynTXF1n">aur</label><input type="radio" name="group-F2M98" id="tab-CEENPPq"><label data-title="aur (git)" for="tab-CEENPPq">aur (git)</label></div><div class="blocks"><div class="language-bash vp-adaptive-theme active line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">   yay</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -S</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> octopi</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><div class="language-bash vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">   yay</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -S</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> octopi-git</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div></div></div><ol start="2"><li>打开 Octopi 即可看到图形化的 Pacman / yay 界面：</li></ol><p><img src="/assets/octopi.DzuZE9h5.png" alt="octopi"></p><blockquote><p>🔗 相关链接：</p><ul><li><a href="https://wiki.archlinux.org/index.php/Pacman" target="_blank" rel="noreferrer">ArchWiki 相关内容</a></li></ul></blockquote><h3 id="downgrade" tabindex="-1">downgrade <a class="header-anchor" href="#downgrade" aria-label="Permalink to &quot;downgrade&quot;">​</a></h3><p>由于 archlinux 的更新策略很激进, 导致某些软件过新, 而一些依赖并没有支持, 比如著名的<a href="https://bugs.archlinux.org/task/74900" target="_blank" rel="noreferrer">virtualbox 在 linux5.18 内核下的崩溃</a> , 所以有时候我们不得不安装过时的软件或者降级已安装的软件。</p><p>在 archlinux 上安装旧版软件都通过 downgrade 来进行管理。</p><p>为了使用 downgrade 额外的命令需要先安装 <a href="https://aur.archlinux.org/packages/downgrade" target="_blank" rel="noreferrer"><code>downgrade</code></a><sup>aur</sup>。</p><div class="language-bash vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">yay</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -S</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> downgrade</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>这时我们就可以用 downgrade 降级软件了</p><p><img src="/assets/downgrade.CSICIt81.jpg" alt="downgrade"></p><h2 id="终端编辑器-vim-的使用" tabindex="-1">终端编辑器 vim 的使用 <a class="header-anchor" href="#终端编辑器-vim-的使用" aria-label="Permalink to &quot;终端编辑器 vim 的使用&quot;">​</a></h2><p>我们需要掌握一个能在终端中进行文本编辑的软件，这里介绍 vim。</p><ol><li>创建并编辑名为 <code>hello.txt</code> 的文件：</li></ol><div class="language-bash vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">   vim</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> hello.txt</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><ol start="2"><li>此时可以看到进入了一个空的界面：</li></ol><p><img src="/assets/vim.IsBlZnTy.png" alt="vim"></p><ul><li>此时处在 vim 的 <code>命令模式</code> 。在 <code>命令模式</code> 下，可以用一些快捷指令来对文本进行操作</li><li>输入 <code>a</code> 进入 vim 的 <code>编辑模式</code> ，此时即可输入任意文本进行编辑</li><li>在输入完成后按下 Esc 键，即可从 <code>编辑模式</code> 退出到 <code>命令模式</code> 。此时输入 <code>:wq</code> 即可保存并退出 vim</li></ul><p>下面介绍一些在命令模式下常用的命令：</p><ul><li><code>:wq</code> —— 保存退出</li><li><code>:q!</code> —— 不保存，强制退出</li><li><code>dd</code> —— 删除一行</li><li><code>2dd</code> —— 删除两行</li><li><code>gg</code> —— 回到文本第一行</li><li><code>shift</code> + <code>g</code> —— 转到文本最后一行</li><li><code>/xxx</code> —— 在文中搜索 xxx 内容。回车 <code>Enter</code> 搜索，按 <code>n</code> 键转到下一个</li><li><code>?xxx</code> —— 反向搜索</li></ul><div class="tip custom-block"><p class="custom-block-title">ℹ️ 提示</p><p>可以在终端中输入以下命令来学习完整的 vim 教程：</p><div class="language-bash vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">vimtutor</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p><img src="/assets/vimtutor.BfDz7Qdq.png" alt="vimtutor"></p></div><h2 id="系统服务的介绍与操作" tabindex="-1">系统服务的介绍与操作 <a class="header-anchor" href="#系统服务的介绍与操作" aria-label="Permalink to &quot;系统服务的介绍与操作&quot;">​</a></h2><p>Linux 系统中运行着各种服务，你需要掌握查询，变更服务状态的方式。同时对创建服务最好也有大致的了解。</p><p>这里讲述命令 <code>systemctl</code> 的用法。以 <code>dhcpcd</code> 服务为例：</p><div class="language-bash vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">systemctl</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> start</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> dhcpcd</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> # 启动服务</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">systemctl</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> stop</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> dhcpcd</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> # 停止服务</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">systemctl</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> restart</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> dhcpcd</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> # 重启服务</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">systemctl</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> reload</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> dhcpcd</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> # 重新加载服务以及它的配置文件</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">systemctl</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> status</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> dhcpcd</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> # 查看服务状态</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">systemctl</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> enable</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> dhcpcd</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> # 设置开机启动服务</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">systemctl</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> enable</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --now</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> dhcpcd</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> # 设置服务为开机启动并立即启动这个单元</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">systemctl</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> disable</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> dhcpcd</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> # 取消开机自动启动</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">systemctl</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> daemon-reload</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> dhcpcd</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> # 重新载入 systemd 配置。扫描新增或变更的服务单元、不会重新加载变更的配置</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><blockquote><p>🔗 相关链接：</p><ul><li><a href="https://wiki.archlinux.org/index.php/Systemd#Basic_systemctl_usage" target="_blank" rel="noreferrer">ArchWiki 相关内容</a></li><li><a href="https://www.freedesktop.org/software/systemd/man/systemd.service.html#Examples" target="_blank" rel="noreferrer">systemd 配置文件样例解释</a></li></ul><p>关于关闭出错服务（出错启动项）请参阅 <a href="./debug.html">常见问题</a>。</p></blockquote><h2 id="文件解压缩" tabindex="-1">文件解压缩 <a class="header-anchor" href="#文件解压缩" aria-label="Permalink to &quot;文件解压缩&quot;">​</a></h2><p>除了众所周知的 <code>tar</code> 命令，我们在之前安装过的 <code>ark</code> 包可以配合 Dolphin 文件管理器轻松的右键压缩包直接解压。其可选依赖提供了各个压缩格式的支持，可以自行选择安装。</p><p>但是使用此方法解压 Windows 下的压缩包可能会乱码。使用 <a href="https://archlinux.org/packages/extra/x86_64/unarchiver/" target="_blank" rel="noreferrer">Unarchiver</a> 可以避免这个问题。</p><ol><li>安装 Unarchiver：</li></ol><div class="language-bash vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> pacman</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -S</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> unarchiver</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><ol start="2"><li>解压压缩包：</li></ol><div class="language-bash vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">unar</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> xxx.zip</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h2 id="磁盘空间信息" tabindex="-1">磁盘空间信息 <a class="header-anchor" href="#磁盘空间信息" aria-label="Permalink to &quot;磁盘空间信息&quot;">​</a></h2><h3 id="df-命令" tabindex="-1">df 命令 <a class="header-anchor" href="#df-命令" aria-label="Permalink to &quot;df 命令&quot;">​</a></h3><p>使用 <code>df</code> 命令即可显示目前在 Linux 系统上的文件系统对应的磁盘空间使用情况统计：</p><div class="language-bash vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">df</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -h</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> # 以人类可读格式显示</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h3 id="filelight" tabindex="-1">Filelight <a class="header-anchor" href="#filelight" aria-label="Permalink to &quot;Filelight&quot;">​</a></h3><p>使用 <a href="https://github.com/KDE/filelight" target="_blank" rel="noreferrer">Filelight</a><sup>extra / aur</sup> 即可在图形化界面直观查看磁盘占用情况。</p><ol><li>安装 Filelight：</li></ol><div class="vp-code-group vp-adaptive-theme"><div class="tabs"><input type="radio" name="group-1NtP9" id="tab-afOTvKQ" checked><label data-title="extra" for="tab-afOTvKQ">extra</label><input type="radio" name="group-1NtP9" id="tab-FshVKdh"><label data-title="aur (git)" for="tab-FshVKdh">aur (git)</label></div><div class="blocks"><div class="language-bash vp-adaptive-theme active line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> pacman</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -S</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> filelight</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><div class="language-bash vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">yay</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -S</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> filelight-git</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div></div></div><ol start="2"><li>打开 Filelight 即可直观的看到空间占用情况：</li></ol><p><img src="/assets/filelight._JK12XvZ.png" alt="filelight"></p><div class="tip custom-block"><p class="custom-block-title">ℹ️ 提示</p><p>点击相应区块即可进一步深入分析。</p></div><h2 id="磁盘空间清理" tabindex="-1">磁盘空间清理 <a class="header-anchor" href="#磁盘空间清理" aria-label="Permalink to &quot;磁盘空间清理&quot;">​</a></h2><p>有时需要对磁盘空间进行清理，以免磁盘空间不足，从而保证系统的正常运行。</p><p>首先应通过上文介绍的内容 <a href="/guide/system-ctl.html#磁盘空间信息">磁盘空间信息</a> 对磁盘空间占用情况进行分析，随后采取对应的有效应对措施。</p><p>下面介绍一些通用措施。</p><h3 id="清理软件包缓存及孤立包" tabindex="-1">清理软件包缓存及孤立包 <a class="header-anchor" href="#清理软件包缓存及孤立包" aria-label="Permalink to &quot;清理软件包缓存及孤立包&quot;">​</a></h3><p>执行以下命令清理软件包文件缓存及删除孤立软件包：</p><div class="language-bash vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line highlighted"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> pacman</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -Rns</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> $(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">pacman</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -Qtdq</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 如上文所述，删除孤立软件包（常用）</span></span>
<span class="line highlighted"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> pacman</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -Sc</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> # 删除当前未安装的所有缓存包和未使用的同步数据库（可选）</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> pacman</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -Scc</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> # 从缓存中删除所有文件，这是最激进的方法，不会在缓存文件夹中留下任何内容（一般不使用）</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">paccache</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -r</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> # 删除已安装和未安装包的所有缓存版本，但最近 3 个版本除外</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>还可以在 <code>/etc/pacman.d/hooks</code> 文件夹下创建 <code>clean_package_cache.hook</code> 文件来在使用 <code>pacman</code> 时自动执行 <code>paccache</code>。</p><div class="language-bash vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">[Trigger]</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Operation</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> =</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> Upgrade</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Operation</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> =</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> Install</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Operation</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> =</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> Remove</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Type</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> =</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> Package</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Target</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> =</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> *</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">[Action]</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Description</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> =</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> Cleaning</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> pacman</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> cache...</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">When</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> =</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> PostTransaction</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Exec</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> =</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /usr/bin/paccache</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -rk</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 2</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><h3 id="清理-yay-缓存" tabindex="-1">清理 yay 缓存 <a class="header-anchor" href="#清理-yay-缓存" aria-label="Permalink to &quot;清理 yay 缓存&quot;">​</a></h3><p>如果使用了 yay 来安装 AUR 中的软件包的话，可以选择清理 yay 的缓存目录：</p><div class="language-bash vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">rm</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -rf</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ~/.cache/yay</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h3 id="考虑快照大小" tabindex="-1">考虑快照大小 <a class="header-anchor" href="#考虑快照大小" aria-label="Permalink to &quot;考虑快照大小&quot;">​</a></h3><p>若在步骤 <a href="./../rookie/desktop-env-and-app.html#_13-设置-timeshift-快照">13. 设置 Timeshift 快照</a> 中没有使用 BTRFS 方式的 Timeshift 快照，而是使用了 RSYNC 方式的 Timeshift 快照，还应考虑 Timeshift 快照占用情况。</p><p>一般来说 RSYNC 方式的快照大小略大于当前实际使用大小。因为虽然 RSYNC 方式的快照是增量的，但<strong>历史最久远的快照依然是完整备份</strong>，随后才是增量的。而简单来说增量大小取决于历史最久远的快照和最新快照之间的差异。</p><p>通过 Timeshift 自动清理历史最久远的快照是简单有效的方法，但仍然需要注意不要保存太多快照。</p><h2 id="硬件信息检测" tabindex="-1">硬件信息检测 <a class="header-anchor" href="#硬件信息检测" aria-label="Permalink to &quot;硬件信息检测&quot;">​</a></h2><h3 id="磁盘信息" tabindex="-1">磁盘信息 <a class="header-anchor" href="#磁盘信息" aria-label="Permalink to &quot;磁盘信息&quot;">​</a></h3><h4 id="smartmontools" tabindex="-1">Smartmontools <a class="header-anchor" href="#smartmontools" aria-label="Permalink to &quot;Smartmontools&quot;">​</a></h4><p><a href="https://archlinux.org/packages/extra/x86_64/smartmontools/" target="_blank" rel="noreferrer">Smartmontools</a> 通过使用自我监控（Self-Monitoring）、分析（Analysis）和报告（Reporting）三种技术（缩写为 S. M. A. R. T 或 SMART）来管理和监控存储硬件。</p><ol><li>安装 Smartmontools：</li></ol><div class="language-bash vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> pacman</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -S</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> smartmontools</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><ol start="2"><li>查看磁盘信息：</li></ol><div class="vp-code-group vp-adaptive-theme"><div class="tabs"><input type="radio" name="group-YxLe2" id="tab-1-r_Aum" checked><label data-title="SATA" for="tab-1-r_Aum">SATA</label><input type="radio" name="group-YxLe2" id="tab-O9kpEP5"><label data-title="NVME" for="tab-O9kpEP5">NVME</label></div><div class="blocks"><div class="language-bash vp-adaptive-theme active line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> smartctl</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -A</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /dev/sdx</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> # 硬盘</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> smartctl</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -d</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> sat</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -A</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /dev/sdx</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> # USB 设备</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><div class="language-bash vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> smartctl</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -A</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /dev/nvmexn1</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> # 硬盘</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> smartctl</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -d</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> sat</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -A</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /dev/sdx</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> # USB 设备</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div></div></div><h3 id="cpu-信息" tabindex="-1">CPU 信息 <a class="header-anchor" href="#cpu-信息" aria-label="Permalink to &quot;CPU 信息&quot;">​</a></h3><p>类似 Windows 下的 <a href="https://www.cpuid.com/softwares/cpu-z.html" target="_blank" rel="noreferrer">CPU-Z</a><sup>EULA</sup>，Linux 下有 <a href="https://x0rg.github.io/CPU-X/" target="_blank" rel="noreferrer">CPU-X</a><sup>cn / aur</sup>。</p><ol><li>安装 CPU-X：</li></ol><div class="vp-code-group vp-adaptive-theme"><div class="tabs"><input type="radio" name="group-5UDrj" id="tab-WkKK1Dd" checked><label data-title="cn" for="tab-WkKK1Dd">cn</label><input type="radio" name="group-5UDrj" id="tab-CWFQbzX"><label data-title="aur" for="tab-CWFQbzX">aur</label><input type="radio" name="group-5UDrj" id="tab-9F3XG1_"><label data-title="aur (git)" for="tab-9F3XG1_">aur (git)</label></div><div class="blocks"><div class="language-bash vp-adaptive-theme active line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> pacman</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -S</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> cpu-x</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><div class="language-bash vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">yay</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -S</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> aur/cpu-x</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><div class="language-bash vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">yay</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -S</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> cpu-x-git</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div></div></div><ol start="2"><li>打开 CPU-X 即可看到 CPU 详细信息：</li></ol><p><img src="/assets/cpu-x.MwiqFBWR.png" alt="cpu-x"></p><h3 id="gpu-信息" tabindex="-1">GPU 信息 <a class="header-anchor" href="#gpu-信息" aria-label="Permalink to &quot;GPU 信息&quot;">​</a></h3><p>使用 <a href="https://github.com/arunsivaramanneo/GPU-Viewer" target="_blank" rel="noreferrer">GPU-Viewer</a><sup>aur</sup> 即可。</p><ol><li>安装 GPU-Viewer：</li></ol><div class="language-bash vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">yay</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -S</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> gpu-viewer</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><ol start="2"><li>打开 GPU-Viewer 即可看到 GPU 详细信息：</li></ol><p><img src="/assets/gpu-viewer.DegjM3Fg.png" alt="gpu-viewer"></p><h3 id="硬件完整信息" tabindex="-1">硬件完整信息 <a class="header-anchor" href="#硬件完整信息" aria-label="Permalink to &quot;硬件完整信息&quot;">​</a></h3><p>使用 <a href="http://www.nongnu.org/dmidecode/" target="_blank" rel="noreferrer">Dmidecode</a><sup>extra / aur</sup> 可以完整查看系统绝大部分硬件信息，包括较难得到的内存频率等。</p><ol><li>安装 Dmidecode：</li></ol><div class="vp-code-group vp-adaptive-theme"><div class="tabs"><input type="radio" name="group-I84IX" id="tab-vHDErxz" checked><label data-title="extra" for="tab-vHDErxz">extra</label><input type="radio" name="group-I84IX" id="tab-B-Uxv2R"><label data-title="aur (git)" for="tab-B-Uxv2R">aur (git)</label></div><div class="blocks"><div class="language-bash vp-adaptive-theme active line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> pacman</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -S</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> dmidecode</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><div class="language-bash vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">yay</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -S</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> dmidecode-git</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div></div></div><ol start="2"><li>输入以下命令使用 Dmidecode 查看系统硬件信息：</li></ol><div class="language-bash vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> dmidecode</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h2 id="系统快照-备份-与文件传输" tabindex="-1">系统快照（备份）与文件传输 <a class="header-anchor" href="#系统快照-备份-与文件传输" aria-label="Permalink to &quot;系统快照（备份）与文件传输&quot;">​</a></h2><h3 id="从-timeshift-快照中恢复" tabindex="-1">从 Timeshift 快照中恢复 <a class="header-anchor" href="#从-timeshift-快照中恢复" aria-label="Permalink to &quot;从 Timeshift 快照中恢复&quot;">​</a></h3><div class="tip custom-block"><p class="custom-block-title">ℹ️ 提示</p><p>Timeshift 还能恢复到其它硬盘用作系统迁移，通过 arch 安装盘重新安装引导即可，这里不再赘述。</p></div><h4 id="若能够进入桌面环境-😎" tabindex="-1">若能够进入桌面环境 😎 <a class="header-anchor" href="#若能够进入桌面环境-😎" aria-label="Permalink to &quot;若能够进入桌面环境 😎&quot;">​</a></h4><p>直接打开 Timeshift，选择快照后根据提示还原即可。</p><h4 id="若无法进入桌面环境" tabindex="-1">若无法进入桌面环境 <a class="header-anchor" href="#若无法进入桌面环境" aria-label="Permalink to &quot;若无法进入桌面环境&quot;">​</a></h4><ol><li><p>通过 <code>Ctrl</code> + <code>Alt</code> + <code>F2 ~ F6</code> 进入 tty 终端</p></li><li><p>使用快照还原系统：</p></li></ol><div class="language-bash vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> timeshift</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --list</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> # 获取快照列表</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> timeshift</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --restore</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --snapshot</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;20XX-XX-XX_XX-XX-XX&#39;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --skip-grub</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> # 选择一个快照进行还原，并跳过 GRUB 安装，一般来说 GRUB 不需要重新安装</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><ol start="3"><li>根据提示继续，完成还原</li></ol><h4 id="若无法进入系统-😱" tabindex="-1">若无法进入系统 😱 <a class="header-anchor" href="#若无法进入系统-😱" aria-label="Permalink to &quot;若无法进入系统 😱&quot;">​</a></h4><p>此时系统一般已经完全崩溃，可以通过 Live CD 进行还原。（若使用 arch 安装盘请连接网络和配置好源后安装 Timeshift，然后通过命令行方式还原）</p><ol><li>进入 Live 系统后打开 Timeshift，点击设置按钮，设置为原来快照的存储位置。</li><li>选择快照后根据提示还原即可。</li></ol><p>或者通过命令行进行还原，但需要首先设置原来快照存储的位置：</p><div class="language-bash vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> timeshift</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --restore</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --snapshot-device</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /dev/sdbx</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>后续步骤同 <a href="#若无法进入桌面环境">若无法进入桌面环境</a>。</p><h4 id="恢复后无法挂载目录" tabindex="-1">恢复后无法挂载目录 <a class="header-anchor" href="#恢复后无法挂载目录" aria-label="Permalink to &quot;恢复后无法挂载目录&quot;">​</a></h4><p>Timeshift 恢复 Btrfs 快照时，可能出现由于子卷 ID 变更导致无法挂载目录而无法进入系统。</p><p>此时可以通过手动修改 fstab 配置，移除 <code>subvolid</code> 参数，改为通过名称指定子卷。</p><p>使用 <code>vim</code> 编辑器修改 <code>/etc/fstab</code> 文件：</p><div class="language-bash vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">vim</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /etc/fstab</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>进行如下修改：</p><ul><li>删除 <code>/</code> 和 <code>/home</code> 条目中最后的 <code>subvolid=xxx</code> 参数</li></ul><p>保存后重启即可正常使用。以后恢复快照时无需再次进行此操作。</p><p>也可以手动更正 <code>subvolid</code> ，通过以下命令查看正确的 ID：</p><div class="language-bash vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> btrfs</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> sub</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> list</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -u</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h4 id="恢复后无法挂载-boot" tabindex="-1">恢复后无法挂载 boot <a class="header-anchor" href="#恢复后无法挂载-boot" aria-label="Permalink to &quot;恢复后无法挂载 boot&quot;">​</a></h4><p>Timeshift 恢复 Btrfs 快照时，可能出现由于内核版本不一致导致无法挂载 boot 分区而无法进入系统。执行 <code>journalctl -xb</code> 查看，可能会发现 <em>unknown filesystem type &#39;vfat&#39;</em> error。这里给出一个解法：进入 archiso 并<a href="./../rookie/basic-install.html#_3-连接网络">联网</a>后，执行以下修复：</p><div class="language-bash vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 手动挂载子卷 / 和 /boot（nvmexnxpx 填写实际分区号）</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">mount</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -t</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> btrfs</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -o</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> subvol=/@,compress=zstd</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /dev/nvmexnxpx</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /mnt</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">mount</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /dev/nvmexnxpx</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /mnt/boot</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># chroot</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">arch-chroot</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /mnt</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 更新内核与软件包</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">pacman</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -Syu</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> linux</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 重启</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">reboot</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><h4 id="定时任务不生效" tabindex="-1">定时任务不生效 <a class="header-anchor" href="#定时任务不生效" aria-label="Permalink to &quot;定时任务不生效&quot;">​</a></h4><p>Timeshift 设定任务后定时不生效，那是因为相关的服务 <code>cron</code> 没有启动导致的问题。 在终端命令行下输入以下命令，第一行为设置开机启动，第二行为启动相关服务：</p><div class="language-bash vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> systemctl</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> enable</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --now</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> cronie.service</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> systemctl</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> start</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --now</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> cronie.service</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h3 id="rsync-命令" tabindex="-1">rsync 命令 <a class="header-anchor" href="#rsync-命令" aria-label="Permalink to &quot;rsync 命令&quot;">​</a></h3><p>有一点 Linux 经验的同学应该知道 <code>scp</code> 这个命令。它常被用来在服务器间传输文件。</p><p>但是目前它应该被更现代的工具 <a href="https://rsync.samba.org/" target="_blank" rel="noreferrer">rsync</a> 替代。其拥有即时压缩、差量传输等新特性。同时， <code>rsync</code> 也被用来进行备份操作（Timeshift 的 RSYNC 模式即基于此实现）。</p><div class="language-bash vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">rsync</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> foo.txt</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> me@server:/home/me/</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> # 最基础的复制文件。与 scp 的操作完全相同</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">rsync</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -a</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> bar/</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> me@server:/home/me/</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> # -a：标记实现目录复制等。比 scp -r 能更好的处理符号链接等情况</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><blockquote><p>🔗 相关链接：</p><ul><li><a href="https://wiki.archlinux.org/index.php/Rsync#Full_system_backup" target="_blank" rel="noreferrer">ArchWiki 相关内容</a></li></ul></blockquote></div></div></main><footer class="VPDocFooter" data-v-dea4388b data-v-02e84666><!--[--><!--]--><div class="edit-info" data-v-02e84666><div class="edit-link" data-v-02e84666><a class="VPLink link vp-external-link-icon no-icon edit-link-button" href="https://github.com/nakanomikuorg/arch-guide/edit/main/docs/guide/advanced/system-ctl.md" target="_blank" rel="noreferrer" data-v-02e84666><!--[--><span class="vpi-square-pen edit-link-icon" data-v-02e84666></span> 在 GitHub 上编辑此页<!--]--></a></div><div class="last-updated" data-v-02e84666><p class="VPLastUpdated" data-v-02e84666 data-v-ba88a489>📑 最后更新: <time datetime="2025-09-01T22:03:21.000Z" data-v-ba88a489></time></p></div></div><nav class="prev-next" aria-labelledby="doc-footer-aria-label" data-v-02e84666><span class="visually-hidden" id="doc-footer-aria-label" data-v-02e84666>Pager</span><div class="pager" data-v-02e84666><a class="VPLink link pager-link prev" href="/guide/advanced/beauty-3.html" data-v-02e84666><!--[--><span class="desc" data-v-02e84666>Previous page</span><span class="title" data-v-02e84666>系统美化（终端）</span><!--]--></a></div><div class="pager" data-v-02e84666><a class="VPLink link pager-link next" href="/guide/advanced/debug.html" data-v-02e84666><!--[--><span class="desc" data-v-02e84666>Next page</span><span class="title" data-v-02e84666>常见问题</span><!--]--></a></div></nav></footer><!--[--><!--]--></div></div></div><!--[--><!--]--></div></div><footer class="VPFooter has-sidebar" data-v-c1e4d64d data-v-a4e81964><div class="container" data-v-a4e81964><p class="message" data-v-a4e81964>Code licensed under MIT, documentation under <a href="https://creativecommons.org/licenses/by-sa/4.0/deed.zh" class="grabient-text">CC BY-SA 4.0</a>.</p><p class="copyright" data-v-a4e81964>Made with ❤️️ love by <a href="https://github.com/nakanomikuorg/arch-guide/graphs/contributors" class="grabient-text">all contributors</a>.</p></div></footer><!--[--><!--]--></div></div>
    <script>window.__VP_HASH_MAP__=JSON.parse("{\"app_common_android.md\":\"rnHBwa12\",\"app_common_collaboration.md\":\"CF8oVjhK\",\"app_common_communication.md\":\"Bqu3J34U\",\"app_common_daily.md\":\"BqL8sAbH\",\"app_common_media.md\":\"DDrOdU3d\",\"app_common_office.md\":\"DD-Ce049\",\"app_common_play.md\":\"e3FK1amb\",\"app_common_remote.md\":\"Du-Wmkwo\",\"app_exclusive_audio.md\":\"BI93ZEZe\",\"app_exclusive_code.md\":\"CQJTrX4N\",\"app_exclusive_image.md\":\"EmGfxCBp\",\"app_exclusive_media.md\":\"CszL9wSs\",\"app_exclusive_video.md\":\"CGF1O9Bp\",\"guide_advanced_beauty-1.md\":\"CE8phsQb\",\"guide_advanced_beauty-2.md\":\"CSO9ybsP\",\"guide_advanced_beauty-3.md\":\"j4CEA5Yg\",\"guide_advanced_btrfs.md\":\"CXyBeNjq\",\"guide_advanced_debug.md\":\"CcrIQKvW\",\"guide_advanced_make-install-disk.md\":\"g_1VMCbb\",\"guide_advanced_optional-cfg-1.md\":\"_Hq_8Xze\",\"guide_advanced_optional-cfg-2.md\":\"SXXXqiTs\",\"guide_advanced_power-ctl.md\":\"Cq0De_GB\",\"guide_advanced_system-ctl.md\":\"BgFTX3o5\",\"guide_index.md\":\"B5I0wdFu\",\"guide_prepare_head-on-blow.md\":\"BXMa2Gqd\",\"guide_prepare_understand.md\":\"C_JlKhEg\",\"guide_rookie_basic-install-detail.md\":\"Dfgip1ua\",\"guide_rookie_basic-install.md\":\"CS7eIl43\",\"guide_rookie_desktop-env-and-app.md\":\"GCBlaP-O\",\"guide_rookie_graphic-driver.md\":\"8T5xdTYC\",\"guide_rookie_pre-install.md\":\"D1wGg1YG\",\"guide_rookie_pre-virt.md\":\"CNNSuLS8\",\"guide_rookie_transparent.md\":\"CQAQgmys\",\"guide_security_apparmor.md\":\"B6ocjorU\",\"guide_security_encryption.md\":\"DCdH6s_K\",\"guide_security_secureboot.md\":\"5LOOD3ya\",\"guide_security_summary.md\":\"D0MwUSgq\",\"index.md\":\"DmJUxgaG\",\"postscript_about.md\":\"nM66WXUl\",\"postscript_contribute.md\":\"DtnVHFZE\",\"postscript_contributor-covenant.md\":\"Dhfk2T1I\",\"postscript_copyright.md\":\"C6ER7Ga7\",\"postscript_postscript.md\":\"BlZBk-Jt\"}");window.__VP_SITE_DATA__=JSON.parse("{\"lang\":\"zh-CN\",\"dir\":\"ltr\",\"title\":\"archlinux 简明指南\",\"description\":\"本指南包含 archlinux 安装、配置、维护等，帮助新手快速上手\",\"base\":\"/\",\"head\":[],\"router\":{\"prefetchLinks\":true},\"appearance\":true,\"themeConfig\":{\"algolia\":{\"apiKey\":\"a8013e96ce5afc3bdea9699964e600b6\",\"appId\":\"PATI20OZQ0\",\"indexName\":\"arch-icekylin\",\"translations\":{\"button\":{\"buttonAriaLabel\":\"搜索文档\",\"buttonText\":\"搜索文档\"},\"modal\":{\"errorScreen\":{\"helpText\":\"你可能需要检查你的网络连接\",\"titleText\":\"无法获取结果\"},\"footer\":{\"closeText\":\"关闭\",\"navigateText\":\"切换\",\"searchByText\":\"搜索提供者\",\"selectText\":\"选择\"},\"noResultsScreen\":{\"noResultsText\":\"无法找到相关结果\",\"reportMissingResultsLinkText\":\"点击反馈\",\"reportMissingResultsText\":\"你认为该查询应该有结果？\",\"suggestedQueryText\":\"你可以尝试查询\"},\"searchBox\":{\"cancelButtonAriaLabel\":\"取消\",\"cancelButtonText\":\"取消\",\"resetButtonAriaLabel\":\"清除查询条件\",\"resetButtonTitle\":\"清除查询条件\"},\"startScreen\":{\"favoriteSearchesTitle\":\"收藏\",\"noRecentSearchesText\":\"没有搜索历史\",\"recentSearchesTitle\":\"搜索历史\",\"removeFavoriteSearchButtonTitle\":\"从收藏中移除\",\"removeRecentSearchButtonTitle\":\"从搜索历史中移除\",\"saveRecentSearchButtonTitle\":\"保存至搜索历史\"}}}},\"editLink\":{\"pattern\":\"https://github.com/nakanomikuorg/arch-guide/edit/main/docs/:path\",\"text\":\"在 GitHub 上编辑此页\"},\"footer\":{\"message\":\"Code licensed under MIT, documentation under <a href=\\\"https://creativecommons.org/licenses/by-sa/4.0/deed.zh\\\" class=\\\"grabient-text\\\">CC BY-SA 4.0</a>.\",\"copyright\":\"Made with ❤️️ love by <a href=\\\"https://github.com/nakanomikuorg/arch-guide/graphs/contributors\\\" class=\\\"grabient-text\\\">all contributors</a>.\"},\"lastUpdatedText\":\"📑 最后更新\",\"logo\":\"/images/logo.svg\",\"nav\":[{\"text\":\"🧭 指南\",\"items\":[{\"text\":\"🎐 千里之行\",\"link\":\"/guide/\"},{\"text\":\"ℹ️ 尝试之前\",\"link\":\"/guide/prepare/head-on-blow\"},{\"text\":\"🌱 新手上路\",\"items\":[{\"text\":\"💾 基础安装\",\"link\":\"/guide/rookie/pre-install\"},{\"text\":\"🔩 进阶安装\",\"link\":\"/guide/rookie/desktop-env-and-app\"}]},{\"text\":\"🛠️ 进阶话题\",\"items\":[{\"text\":\"⚙️ 可选配置\",\"link\":\"/guide/advanced/optional-cfg-1\"},{\"text\":\"🌸 系统美化\",\"link\":\"/guide/advanced/beauty-1\"},{\"text\":\"🧰 系统管理\",\"link\":\"/guide/advanced/system-ctl\"}]}]},{\"text\":\"📦 应用参考\",\"items\":[{\"text\":\"💽 常用软件\",\"items\":[{\"text\":\"📐 日常办公\",\"link\":\"/app/common/daily\"},{\"text\":\"🎯 其它内容\",\"link\":\"/app/common/media\"}]},{\"text\":\"🔬 专有领域\",\"items\":[{\"text\":\"🎹 媒体创作\",\"link\":\"/app/exclusive/video\"},{\"text\":\"🖥️ 信息技术\",\"link\":\"/app/exclusive/code\"}]}]},{\"text\":\"🍰 写在后面\",\"items\":[{\"text\":\"贡献者公约\",\"link\":\"/postscript/contributor-covenant\"},{\"text\":\"贡献指南\",\"link\":\"/postscript/contribute\"},{\"text\":\"版权说明\",\"link\":\"/postscript/copyright\"},{\"text\":\"附录\",\"link\":\"/postscript/about\"}]}],\"sidebar\":{\"/guide/\":[{\"text\":\"🎐 千里之行\",\"link\":\"/guide/\"},{\"text\":\"ℹ️ 尝试之前\",\"items\":[{\"text\":\"archlinux 真的适合我吗？\",\"link\":\"/guide/prepare/head-on-blow\"},{\"text\":\"了解 archlinux\",\"link\":\"/guide/prepare/understand\"}]},{\"text\":\"🌱 新手上路\",\"items\":[{\"text\":\"💾 基础安装\",\"items\":[{\"text\":\"安装前的准备\",\"link\":\"/guide/rookie/pre-install\"},{\"text\":\"虚拟机安装前的准备\",\"link\":\"/guide/rookie/pre-virt\"},{\"text\":\"archlinux 基础安装\",\"link\":\"/guide/rookie/basic-install\"},{\"text\":\"基础安装详解\",\"link\":\"/guide/rookie/basic-install-detail\"}]},{\"text\":\"🔩 进阶安装\",\"items\":[{\"text\":\"桌面环境与常用应用安装\",\"link\":\"/guide/rookie/desktop-env-and-app\"},{\"text\":\"显卡驱动\",\"link\":\"/guide/rookie/graphic-driver\"},{\"text\":\"透明代理\",\"link\":\"/guide/rookie/transparent\"}]}]},{\"text\":\"🛠️ 进阶话题\",\"items\":[{\"text\":\"⚙️ 可选配置\",\"items\":[{\"text\":\"可选配置（基础篇）\",\"link\":\"/guide/advanced/optional-cfg-1\"},{\"text\":\"可选配置（进阶篇）\",\"link\":\"/guide/advanced/optional-cfg-2\"},{\"text\":\"功耗控制\",\"link\":\"/guide/advanced/power-ctl\"}]},{\"text\":\"🌸 系统美化\",\"items\":[{\"text\":\"系统美化（布局）\",\"link\":\"/guide/advanced/beauty-1\"},{\"text\":\"系统美化（主题）\",\"link\":\"/guide/advanced/beauty-2\"},{\"text\":\"系统美化（终端）\",\"link\":\"/guide/advanced/beauty-3\"}]},{\"text\":\"🧰 系统管理\",\"items\":[{\"text\":\"合格的系统管理员\",\"link\":\"/guide/advanced/system-ctl\"},{\"text\":\"常见问题\",\"link\":\"/guide/advanced/debug\"},{\"text\":\"制作系统盘\",\"link\":\"/guide/advanced/make-install-disk\"},{\"text\":\"Btrfs 相关\",\"link\":\"/guide/advanced/btrfs\"}]}]}],\"/app/\":[{\"text\":\"💽 常用软件\",\"items\":[{\"text\":\"📐 日常办公\",\"items\":[{\"text\":\"常用软件\",\"link\":\"/app/common/daily\"},{\"text\":\"聊天通讯\",\"link\":\"/app/common/communication\"},{\"text\":\"办公软件\",\"link\":\"/app/common/office\"},{\"text\":\"多屏协同\",\"link\":\"/app/common/collaboration\"}]},{\"text\":\"🎯 其它内容\",\"items\":[{\"text\":\"视频影音\",\"link\":\"/app/common/media\"},{\"text\":\"游戏娱乐\",\"link\":\"/app/common/play\"},{\"text\":\"远程连接\",\"link\":\"/app/common/remote\"},{\"text\":\"安卓刷机\",\"link\":\"/app/common/android\"}]}]},{\"text\":\"🔬 专有领域\",\"items\":[{\"text\":\"🎹 媒体创作\",\"items\":[{\"text\":\"视频制作\",\"link\":\"/app/exclusive/video\"},{\"text\":\"图像制作\",\"link\":\"/app/exclusive/image\"},{\"text\":\"音频制作\",\"link\":\"/app/exclusive/audio\"},{\"text\":\"其它内容\",\"link\":\"/app/exclusive/media\"}]},{\"text\":\"🖥️ 信息技术\",\"items\":[{\"text\":\"编程软件\",\"link\":\"/app/exclusive/code\"}]}]}]},\"siteTitle\":false,\"socialLinks\":[{\"icon\":\"github\",\"link\":\"https://github.com/nakanomikuorg/arch-guide\"}]},\"locales\":{},\"scrollOffset\":134,\"cleanUrls\":false}");</script>
    
  </body>
</html>