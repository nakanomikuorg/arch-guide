import{_ as a,c as i,o as e,ag as n}from"./chunks/framework.CDhRSyRB.js";const l="/assets/desktop-env-and-app_update.hLcbqWdh.png",t="/assets/desktop-env-and-app_add-user.DgpktZvJ.png",p="/assets/desktop-env-and-app_visudo.CeiBPPKk.png",r="/assets/desktop-env-and-app_multilib.CgYpVyzx.png",d="/assets/desktop-env-and-app_archlinuxcn.BeT2LYgT.png",o="/assets/desktop-env-and-app_syyu.D2ap2NSy.png",h="/assets/desktop-env-and-app_install-kde.DDoiXid5.png",c="/assets/desktop-env-and-app_sign-in.CFfySfXc.png",k="/assets/desktop-env-and-app_desktop.b_j8eMIz.png",u="/assets/desktop-env-and-app_sddm.COX1Eq5h.png",b="/assets/desktop-env-and-app_konsole.CrtrMBU-.png",g="/assets/desktop-env-and-app_mkdir.CHXIdif8.png",m="/assets/desktop-env-and-app_language.BQgmp6RE.png",F="/assets/desktop-env-and-app_effect.DUiUok3A.png",v="/assets/desktop-env-and-app_fcitx5-1.CWPUKgzZ.png",y="/assets/desktop-env-and-app_fcitx5-2.DsutD0Gj.png",C="/assets/desktop-env-and-app_fcitx5-3.DhS-DLTB.png",f="/assets/desktop-env-and-app_fcitx5-4.jCPM0tUR.png",B="/assets/desktop-env-and-app_fcitx5-5.Bl6PqI9c.png",_="/assets/desktop-env-and-app_fcitx5-6.Dl7PclS5.png",x="/assets/desktop-env-and-app_timeshift-install.CFm_Buvh.png",E="/assets/desktop-env-and-app_timeshift-cfg-1.DoRzxzdz.png",w="/assets/desktop-env-and-app_timeshift-cfg-2.DGFWpvat.png",D="/assets/desktop-env-and-app_timeshift-cfg-3.D2SqXcfA.png",A="/assets/desktop-env-and-app_timeshift-cfg-4.DZV4QEAT.png",O=JSON.parse('{"title":"æ¡Œé¢ç¯å¢ƒä¸å¸¸ç”¨åº”ç”¨å®‰è£…","description":"","frontmatter":{},"headers":[],"relativePath":"guide/rookie/desktop-env-and-app.md","filePath":"guide/rookie/desktop-env-and-app.md","lastUpdated":1742480685000}'),S={name:"guide/rookie/desktop-env-and-app.md"};function q(P,s,L,T,R,U){return e(),i("div",null,s[0]||(s[0]=[n('<h1 id="æ¡Œé¢ç¯å¢ƒä¸å¸¸ç”¨åº”ç”¨å®‰è£…" tabindex="-1">æ¡Œé¢ç¯å¢ƒä¸å¸¸ç”¨åº”ç”¨å®‰è£… <a class="header-anchor" href="#æ¡Œé¢ç¯å¢ƒä¸å¸¸ç”¨åº”ç”¨å®‰è£…" aria-label="Permalink to &quot;æ¡Œé¢ç¯å¢ƒä¸å¸¸ç”¨åº”ç”¨å®‰è£…&quot;">â€‹</a></h1><blockquote><h3 id="ğŸ”-ä¸¤å²¸çŒ¿å£°å•¼ä¸ä½-è½»èˆŸå·²è¿‡ä¸‡é‡å±±" tabindex="-1">ğŸ” ä¸¤å²¸çŒ¿å£°å•¼ä¸ä½ï¼Œè½»èˆŸå·²è¿‡ä¸‡é‡å±± <a class="header-anchor" href="#ğŸ”-ä¸¤å²¸çŒ¿å£°å•¼ä¸ä½-è½»èˆŸå·²è¿‡ä¸‡é‡å±±" aria-label="Permalink to &quot;ğŸ” ä¸¤å²¸çŒ¿å£°å•¼ä¸ä½ï¼Œè½»èˆŸå·²è¿‡ä¸‡é‡å±±&quot;">â€‹</a></h3><p>æ²¡æœ‰å›¾å½¢ç•Œé¢çš„ archlinux æ˜¾ç„¶ä½œä¸ºæ—¥å¸¸ä½¿ç”¨çš„æ“ä½œç³»ç»Ÿæ˜¯ä¸åˆé€‚çš„ã€‚ä½†ç»è¿‡è¿™ä¸€èŠ‚çš„å®‰è£…å’Œé…ç½®åï¼Œæˆ‘ä»¬çš„ç³»ç»Ÿå°±å¯ä»¥å½“ä½œæ—¥å¸¸çš„æ“ä½œç³»ç»Ÿä½¿ç”¨äº†</p></blockquote><blockquote><h3 id="ğŸ”–-è¿™ä¸€èŠ‚å°†ä¼šè®¨è®º" tabindex="-1">ğŸ”– è¿™ä¸€èŠ‚å°†ä¼šè®¨è®ºï¼š <a class="header-anchor" href="#ğŸ”–-è¿™ä¸€èŠ‚å°†ä¼šè®¨è®º" aria-label="Permalink to &quot;ğŸ”– è¿™ä¸€èŠ‚å°†ä¼šè®¨è®ºï¼š&quot;">â€‹</a></h3><details class="details custom-block"><summary>ç›®å½•</summary><nav class="table-of-contents"><ul><li><a href="#_0-ç¡®ä¿ç³»ç»Ÿä¸ºæœ€æ–°">0. ç¡®ä¿ç³»ç»Ÿä¸ºæœ€æ–°</a></li><li><a href="#_1-é…ç½®-root-è´¦æˆ·çš„é»˜è®¤ç¼–è¾‘å™¨">1. é…ç½® root è´¦æˆ·çš„é»˜è®¤ç¼–è¾‘å™¨</a></li><li><a href="#_2-å‡†å¤‡é-root-ç”¨æˆ·">2. å‡†å¤‡é root ç”¨æˆ·</a></li><li><a href="#_3-å¼€å¯-32-ä½æ”¯æŒåº“ä¸-arch-linux-ä¸­æ–‡ç¤¾åŒºä»“åº“-archlinuxcn">3. å¼€å¯ 32 ä½æ”¯æŒåº“ä¸ Arch Linux ä¸­æ–‡ç¤¾åŒºä»“åº“ï¼ˆarchlinuxcnï¼‰</a></li><li><a href="#_4-å®‰è£…-kde-plasma-æ¡Œé¢ç¯å¢ƒ">4. å®‰è£… KDE Plasma æ¡Œé¢ç¯å¢ƒ</a></li><li><a href="#_5-é…ç½®å¹¶å¯åŠ¨-greeter-sddm">5. é…ç½®å¹¶å¯åŠ¨ greeter sddm</a></li><li><a href="#_6-å®‰è£…åŸºç¡€åŠŸèƒ½åŒ…">6. å®‰è£…åŸºç¡€åŠŸèƒ½åŒ…</a></li><li><a href="#_7-æ£€æŸ¥å®¶ç›®å½•">7. æ£€æŸ¥å®¶ç›®å½•</a></li><li><a href="#_8-é…ç½®é-root-è´¦æˆ·çš„é»˜è®¤ç¼–è¾‘å™¨">8. é…ç½®é root è´¦æˆ·çš„é»˜è®¤ç¼–è¾‘å™¨</a></li><li><a href="#_9-è®¾ç½®ç³»ç»Ÿä¸ºä¸­æ–‡">9. è®¾ç½®ç³»ç»Ÿä¸ºä¸­æ–‡</a></li><li><a href="#_10-å®‰è£…è¾“å…¥æ³•">10. å®‰è£…è¾“å…¥æ³•</a></li><li><a href="#_11-å¯åŠ¨è“ç‰™-è‹¥æœ‰">11. å¯åŠ¨è“ç‰™ï¼ˆè‹¥æœ‰ï¼‰</a></li><li><a href="#_12-è®¾ç½®-timeshift-å¿«ç…§">12. è®¾ç½® Timeshift å¿«ç…§</a><ul><li><a href="#_12-1-è‹¥ä½¿ç”¨-btrfs-æ–‡ä»¶ç³»ç»Ÿ">12-1. è‹¥ä½¿ç”¨ Btrfs æ–‡ä»¶ç³»ç»Ÿ</a></li><li><a href="#_12-2-è‹¥ä½¿ç”¨-ext4-æ–‡ä»¶ç³»ç»Ÿ">12-2. è‹¥ä½¿ç”¨ ext4 æ–‡ä»¶ç³»ç»Ÿ</a></li></ul></li><li><a href="#_13-è‡ªåŠ¨ç”Ÿæˆå¿«ç…§å¯åŠ¨é¡¹">13. è‡ªåŠ¨ç”Ÿæˆå¿«ç…§å¯åŠ¨é¡¹</a></li><li><a href="#âœ¨-å¤ªæ£’äº†">âœ¨ å¤ªæ£’äº†</a></li></ul></nav></details></blockquote><p>è¿™ä¸€å°èŠ‚ï¼Œæˆ‘ä»¬å¼€å§‹ç€æ‰‹å®‰è£…æ¡Œé¢ç¯å¢ƒå’Œä¸€äº›å¸¸ç”¨çš„è½¯ä»¶ã€‚å¦‚æœ‰éœ€è¦å¯ä»¥å‚é˜… <a href="https://wiki.archlinux.org/title/General_recommendations_(%E7%AE%80%E4%BD%93%E4%B8%AD%E6%96%87)" target="_blank" rel="noreferrer">ArchWiki ä¸€èˆ¬æ€§å»ºè®®</a>ã€‚</p><div class="tip custom-block"><p class="custom-block-title">â„¹ï¸ æç¤º</p><p>æŒ‡å—ä¸­å¸¦æœ‰ <sup>aur</sup> è§’æ ‡çš„è½¯ä»¶ä»£è¡¨æ˜¯åœ¨ <a href="https://aur.archlinux.org/" target="_blank" rel="noreferrer">AUR</a>ï¼ˆArch User Repositoryï¼‰ä¸­ç”¨æˆ·è‡ªè¡Œæ‰“åŒ…çš„è½¯ä»¶ã€‚ä¸åœ¨ arch å®˜æ–¹æ”¯æŒèŒƒå›´å†…ï¼Œå¯èƒ½ä¼šå‡ºç°å„ç§é—®é¢˜å¦‚æ›´æ–°ä¸åŠæ—¶ã€æ— æ³•å®‰è£…ã€ä½¿ç”¨å‡ºé”™ç­‰ã€‚</p><p>æŒ‡å—ä¸­å¸¦æœ‰ <sup>cn</sup> è§’æ ‡çš„è½¯ä»¶ä»£è¡¨æ˜¯åœ¨ <a href="https://www.archlinuxcn.org/archlinux-cn-repo-and-mirror/" target="_blank" rel="noreferrer">archlinuxcn</a>ï¼ˆArch Linux ä¸­æ–‡ç¤¾åŒºä»“åº“ï¼‰ä¸­ç”¨æˆ·è‡ªè¡Œæ‰“åŒ…çš„è½¯ä»¶ã€‚ä¸åœ¨ arch å®˜æ–¹æ”¯æŒèŒƒå›´å†…ï¼Œå¯èƒ½ä¼šå‡ºç°å„ç§é—®é¢˜å¦‚æ›´æ–°ä¸åŠæ—¶ã€æ— æ³•å®‰è£…ã€ä½¿ç”¨å‡ºé”™ç­‰ã€‚</p><p>æŒ‡å—ä¸­å¸¦æœ‰ <sup>EULA</sup> è§’æ ‡çš„è½¯ä»¶ä»£è¡¨æ˜¯ <a href="https://www.gnu.org/proprietary/proprietary.html" target="_blank" rel="noreferrer">ä¸“æœ‰è½¯ä»¶</a>ã€‚è¯·è‡ªè¡Œæ–Ÿé…Œæ˜¯å¦ä½¿ç”¨ã€‚</p></div><h2 id="_0-ç¡®ä¿ç³»ç»Ÿä¸ºæœ€æ–°" tabindex="-1">0. ç¡®ä¿ç³»ç»Ÿä¸ºæœ€æ–° <a class="header-anchor" href="#_0-ç¡®ä¿ç³»ç»Ÿä¸ºæœ€æ–°" aria-label="Permalink to &quot;0. ç¡®ä¿ç³»ç»Ÿä¸ºæœ€æ–°&quot;">â€‹</a></h2><p>å¦‚æœä½ åœ¨åšå®Œç« èŠ‚ <a href="./basic-install.html">archlinux åŸºç¡€å®‰è£…</a> çš„å†…å®¹åï¼Œå…³æœºå¹¶æ”¾ç½®è¿‡ä¸€æ®µæ—¶é—´ï¼Œé‚£ä¹ˆéœ€è¦å…ˆæŒ‰ç…§ <a href="./basic-install.html#_18-å®Œæˆå®‰è£…">18. å®Œæˆå®‰è£…</a> ä¸­è¿æ¥ç½‘ç»œçš„æ–¹æ³•é‡æ–°è¿ç½‘ï¼Œç„¶åä½¿ç”¨ä»¥ä¸‹å‘½ä»¤æ›´æ–°ç³»ç»Ÿï¼š</p><div class="language-bash vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">pacman</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -Syu</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> # å‡çº§ç³»ç»Ÿä¸­å…¨éƒ¨åŒ…</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p><img src="'+l+'" alt="update"></p><h2 id="_1-é…ç½®-root-è´¦æˆ·çš„é»˜è®¤ç¼–è¾‘å™¨" tabindex="-1">1. é…ç½® root è´¦æˆ·çš„é»˜è®¤ç¼–è¾‘å™¨ <a class="header-anchor" href="#_1-é…ç½®-root-è´¦æˆ·çš„é»˜è®¤ç¼–è¾‘å™¨" aria-label="Permalink to &quot;1. é…ç½® root è´¦æˆ·çš„é»˜è®¤ç¼–è¾‘å™¨&quot;">â€‹</a></h2><p>é»˜è®¤æƒ…å†µä¸‹ï¼Œarchlinux åœ¨ä¸€äº›ç»ˆç«¯ç¼–è¾‘åœºæ™¯è°ƒç”¨ <code>vi</code> ç¼–è¾‘å™¨ï¼Œä½†æ˜¯æˆ‘ä»¬ä½¿ç”¨ <code>vim</code> ç¼–è¾‘å™¨ã€‚</p><p>å¦‚æœä¸åšé¢å¤–é…ç½®ä¸”ä¸æ˜¾å¼çš„æŒ‡å®šç¼–è¾‘å™¨ï¼Œåœ¨ä¸€äº›ç»ˆç«¯åœºæ™¯ä¸‹ï¼ˆå¦‚ä¸‹é¢çš„ <code>visudo</code>ã€<code>git</code> ç­‰ï¼‰è°ƒç”¨ç¼–è¾‘å™¨æ—¶ä¼šå‡ºé”™ã€‚</p><ol><li>ä½¿ç”¨ <code>vim</code> ç¼–è¾‘ <code>~/.bash_profile</code> æ–‡ä»¶ï¼š</li></ol><div class="language-bash vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">vim</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ~/.bash_profile</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>åœ¨é€‚å½“ä½ç½®åŠ å…¥ä»¥ä¸‹å†…å®¹ï¼š</p><div class="language-bash vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">export</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> EDITOR</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;vim&#39;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><div class="tip custom-block"><p class="custom-block-title">â„¹ï¸ æç¤º</p><p>ä¹Ÿå¯ä»¥æ·»åŠ åˆ° <code>~/.bashrc</code> ä¸­ï¼Œä½†æ˜¯ï¼ˆå¦‚æœä¸åšå…¶å®ƒé…ç½®æˆ–æ˜¾å¼çš„æ‰§è¡Œï¼‰åœ¨ç™»å½•å‘½ä»¤è¡Œ <code>tty</code> åä¸ä¼šè¢«æ‰§è¡Œï¼Œä¹Ÿå°±å¤±å»äº†æ„ä¹‰ã€‚</p><p>ä¸€èˆ¬æ¥è¯´æˆ‘ä»¬ç™»å½• root è´¦æˆ·æ—¶å¾ˆå¯èƒ½æ˜¯åœ¨å‘½ä»¤è¡Œ <code>tty</code> ç™»å½•çš„ï¼ˆæœ‰æ—¶ä¹Ÿä¼š <code>su</code>ï¼‰ã€‚</p></div><ol start="2"><li>ä¿å­˜å¹¶é€€å‡º <code>vim</code></li></ol><h2 id="_2-å‡†å¤‡é-root-ç”¨æˆ·" tabindex="-1">2. å‡†å¤‡é root ç”¨æˆ· <a class="header-anchor" href="#_2-å‡†å¤‡é-root-ç”¨æˆ·" aria-label="Permalink to &quot;2. å‡†å¤‡é root ç”¨æˆ·&quot;">â€‹</a></h2><ol><li>é€šè¿‡ä»¥ä¸‹å‘½ä»¤æ·»åŠ ç”¨æˆ·ï¼Œæ¯”å¦‚æ–°å¢åŠ çš„ç”¨æˆ·å« <code>myusername</code>ï¼š</li></ol><div class="language-bash vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">useradd</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -m</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -G</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> wheel</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -s</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /bin/bash</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> myusername</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><blockquote><p>ğŸ“‘ å‘½ä»¤å‚æ•°è¯´æ˜ï¼š</p><ul><li><code>-m</code> åˆ›å»ºç”¨æˆ·çš„åŒæ—¶åˆ›å»ºç”¨æˆ·å®¶ç›®å½•</li><li><code>-G</code> é€‰é¡¹åæŒ‡å®šé™„åŠ ç»„ <ul><li><code>wheel</code> â€”â€” <code>wheel</code> é™„åŠ ç»„å¯ <code>sudo</code> è¿›è¡Œææƒ</li></ul></li><li><code>-s</code> é€‰é¡¹åæŒ‡å®š shell ç¨‹åº</li><li><code>myusername</code> â€”â€” ç”¨æˆ·åï¼ˆ<strong>è¯·è‡ªå®šä¹‰</strong>ï¼Œä½†ä¸è¦åŒ…å«ç©ºæ ¼å’Œç‰¹æ®Šå­—ç¬¦ï¼‰</li></ul></blockquote><ol start="2"><li>é€šè¿‡ä»¥ä¸‹å‘½ä»¤æ ¹æ®æç¤ºè®¾ç½®æ–°ç”¨æˆ· <code>myusername</code> çš„å¯†ç ï¼š</li></ol><div class="language-bash vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">passwd</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> myusername</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><div class="tip custom-block"><p class="custom-block-title">â„¹ï¸ æç¤º</p><p>å¼±å¯†ç å·²ç»ä¸è¢«æ¥å—ï¼Œè¯·è®¾ç½®ä¸€ä¸ªè¾ƒä¸ºå¤æ‚çš„å¯†ç ï¼Œå¦‚ <code>i_love_archlinux</code>ã€‚</p></div><p><img src="'+t+'" alt="add-user"></p><ol start="3"><li>ä½¿ç”¨ <code>vim</code> ç¼–è¾‘å™¨é€šè¿‡ <code>visudo</code> å‘½ä»¤ç¼–è¾‘ <code>sudoers</code> æ–‡ä»¶ï¼š</li></ol><div class="language-bash vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">EDITOR</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">vim</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> visudo</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> # è¿™é‡Œéœ€è¦æ˜¾å¼çš„æŒ‡å®šç¼–è¾‘å™¨ï¼Œå› ä¸ºä¸Šé¢çš„ç¯å¢ƒå˜é‡è¿˜æœªç”Ÿæ•ˆ</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><ol start="4"><li>æ‰¾åˆ°å¦‚ä¸‹è¿™æ ·çš„ä¸€è¡Œï¼ŒæŠŠå‰é¢çš„æ³¨é‡Šç¬¦å· <code>#</code> å»æ‰ï¼š</li></ol><div class="language-sudoers vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sudoers</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>#%wheel ALL=(ALL:ALL) ALL</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p><img src="'+p+'" alt="visudo"></p><blockquote><p>ğŸ“‘ è¿™é‡Œç¨å¾®è§£é‡Šä¸€ä¸‹ï¼š</p><ul><li><code>%wheel</code> â€”â€” ç”¨æˆ·åæˆ–ç”¨æˆ·ç»„ï¼Œæ­¤å¤„åˆ™ä»£è¡¨æ˜¯ <code>wheel</code> ç»„ï¼Œ<code>%</code> æ˜¯ç”¨æˆ·ç»„çš„å‰ç¼€</li><li><code>ALL=</code> â€”â€” ä¸»æœºåï¼Œæ­¤å¤„åˆ™ä»£è¡¨åœ¨æ‰€æœ‰ä¸»æœºä¸Šéƒ½ç”Ÿæ•ˆï¼ˆå¦‚æœæŠŠåŒæ ·çš„ <code>sudoers</code> æ–‡ä»¶ä¸‹å‘åˆ°äº†å¤šä¸ªä¸»æœºä¸Šï¼‰</li><li><code>(ALL:ALL)</code> â€”â€” (ä»»æ„ç”¨æˆ·:ä»»æ„ç”¨æˆ·ç»„)ï¼Œæ­¤å¤„åˆ™ä»£è¡¨å¯ä»¥æˆä¸ºä»»æ„ç›®æ ‡ç”¨æˆ·/ç”¨æˆ·ç»„</li><li>æœ€åçš„ <code>ALL</code> â€”â€” ä»£è¡¨å¯ä»¥æ‰§è¡Œä»»æ„å‘½ä»¤</li></ul><p>å‡ ä¸ªæ›´è¯¦ç»†çš„ä¾‹å­:</p><ol><li>åœ¨ <code>mailadmin</code> ç»„é‡Œçš„ç”¨æˆ·å¯ä»¥ä½œä¸º <code>root</code> ç”¨æˆ·ï¼Œåœ¨ <code>snow</code> å’Œ <code>rain</code> è¿™ä¸¤å°ä¸»æœºæ‰§è¡Œä¸€äº›é‚®ä»¶æœåŠ¡å™¨æ§åˆ¶å‘½ä»¤ï¼ˆå‘½ä»¤ä¹‹é—´ç”¨ <code>,</code> åˆ†éš”ï¼‰ï¼š</li></ol><div class="language-sudoers vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sudoers</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>%mailadmin  snow,rain=(root)  /usr/sbin/postfix, /usr/sbin/postsuper, /usr/bin/doveadm</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><ol start="2"><li>ç”¨æˆ· <code>whoami</code> å¯ä»¥åœ¨æ‰€æœ‰ä¸»æœºä¸Šä»¥ <code>root</code> ç”¨æˆ·ä¸è¾“å…¥å¯†ç æ‰§è¡Œ <code>rndc reload</code> è¿™æ¡å‘½ä»¤ï¼ˆæ­£å¸¸æ¥è¯´ <code>sudo</code> éƒ½æ˜¯è¦æ±‚è¾“å…¥è°ƒç”¨æ–¹çš„å¯†ç çš„ï¼‰ï¼š</li></ol><div class="language-sudoers vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sudoers</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>whoami  ALL=(root)  NOPASSWD: /usr/sbin/rndc reload</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><ol start="3"><li>å½“åœ¨ <code>users</code> ç»„é‡Œçš„ç”¨æˆ·ä»¥ <code>sudo passwd</code> æˆ–è€… <code>sudo passwd root</code> æ–¹å¼è¿è¡Œå‘½ä»¤çš„æ—¶å€™ï¼Œå¯ä»¥ç›´æ¥æŠŠ <code>root</code> ç”¨æˆ·çš„å¯†&gt; ç  æ”¹æ‰ï¼Œè¿™çœŸæ˜¯å¤ªå±é™©äº†ï¼å¿…é¡»è¦æŠŠè¿™ä¸¤æ¡å‘½ä»¤ç¦æ­¢æ‰ï¼Œä½†æˆ‘ä»¬åˆå¸Œæœ›ç”¨æˆ·å¯ä»¥é€šè¿‡ <code>sudo passwd</code> ä¿®æ”¹å…¶å®ƒç”¨æˆ·çš„å¯†ç ã€‚é‚£ä¹ˆæˆ‘ä»¬å¯ä»¥åœ¨å‘½ä»¤å‰é¢åŠ ä¸Š <code>!</code> æ¥è¡¨ç¤ºä¸å¯æ‰§è¡Œçš„å‘½ä»¤ï¼š</li></ol><div class="language-sudoers vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sudoers</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>%users  ALL=(root)  !/usr/bin/passwd, /usr/bin/passwd [A-Za-z]*, !/usr/bin/passwd root</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>æ€»ç»“ä¸€ä¸‹ï¼Œè¯­æ³•å¦‚ä¸‹ï¼š</p><div class="language-sudoers vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sudoers</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>ç”¨æˆ·å/%ç”¨æˆ·ç»„å ä¸»æœºå=(ç›®æ ‡ç”¨æˆ·å) å‘½ä»¤1, å‘½ä»¤2, !å‘½ä»¤3</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div></blockquote><ol start="5"><li>ä¿å­˜å¹¶é€€å‡º <code>vim</code> ç¼–è¾‘å™¨</li></ol><h2 id="_3-å¼€å¯-32-ä½æ”¯æŒåº“ä¸-arch-linux-ä¸­æ–‡ç¤¾åŒºä»“åº“-archlinuxcn" tabindex="-1">3. å¼€å¯ 32 ä½æ”¯æŒåº“ä¸ Arch Linux ä¸­æ–‡ç¤¾åŒºä»“åº“ï¼ˆarchlinuxcnï¼‰ <a class="header-anchor" href="#_3-å¼€å¯-32-ä½æ”¯æŒåº“ä¸-arch-linux-ä¸­æ–‡ç¤¾åŒºä»“åº“-archlinuxcn" aria-label="Permalink to &quot;3. å¼€å¯ 32 ä½æ”¯æŒåº“ä¸ Arch Linux ä¸­æ–‡ç¤¾åŒºä»“åº“ï¼ˆarchlinuxcnï¼‰&quot;">â€‹</a></h2><ol><li>ç¼–è¾‘ <code>/etc/pacman.conf</code> æ–‡ä»¶ï¼š</li></ol><div class="language-bash vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">vim</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /etc/pacman.conf</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><ol start="2"><li>å»æ‰ <code>[multilib]</code> ä¸€èŠ‚ä¸­ä¸¤è¡Œçš„æ³¨é‡Šï¼Œæ¥å¼€å¯ 32 ä½åº“æ”¯æŒ</li></ol><p><img src="'+r+`" alt="multilib"></p><ol start="3"><li>åœ¨æ–‡æ¡£ç»“å°¾å¤„åŠ å…¥ä¸‹é¢çš„æ–‡å­—ï¼Œæ¥æ·»åŠ  <code>archlinuxcn</code> æºã€‚æ¨èçš„é•œåƒæºï¼ˆé€‰ä¸€ä¸ªå³å¯ï¼‰ä¹Ÿä¸€å¹¶åˆ—å‡ºï¼š</li></ol><div class="language-conf vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">conf</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>[archlinuxcn]</span></span>
<span class="line highlighted"><span>Server = https://mirrors.ustc.edu.cn/archlinuxcn/$arch # ä¸­å›½ç§‘å­¦æŠ€æœ¯å¤§å­¦å¼€æºé•œåƒç«™</span></span>
<span class="line"><span>Server = https://mirrors.tuna.tsinghua.edu.cn/archlinuxcn/$arch # æ¸…åå¤§å­¦å¼€æºè½¯ä»¶é•œåƒç«™</span></span>
<span class="line"><span>Server = https://mirrors.hit.edu.cn/archlinuxcn/$arch # å“ˆå°”æ»¨å·¥ä¸šå¤§å­¦å¼€æºé•œåƒç«™</span></span>
<span class="line"><span>Server = https://repo.huaweicloud.com/archlinuxcn/$arch # åä¸ºå¼€æºé•œåƒç«™</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p><img src="`+d+'" alt="archlinuxcn"></p><div class="tip custom-block"><p class="custom-block-title">â„¹ï¸ æç¤º</p><p>æ­¤å¤–ï¼Œè¿˜æœ‰å…¶å®ƒé•œåƒæºåœ¨ <a href="https://github.com/archlinuxcn/mirrorlist-repo#arch-linux-cn-community-repo-mirrors-list" target="_blank" rel="noreferrer">archlinuxcn å®˜æ–¹ Github Repo</a> åˆ—å‡ºï¼Œå¯ä»¥æ ¹æ®è‡ªå·±å®é™…æƒ…å†µå¦è¡Œé€‰æ‹©ã€‚</p><p>archlinuxcn ä»“åº“æœåŠ¡å™¨ä½äºæ¬§æ´²ï¼Œåœ¨ä¸­å›½å¤§é™†ã€ä¸­å›½é¦™æ¸¯ã€ç¾å›½æœ‰é•œåƒã€‚</p></div><ol start="4"><li><p>ä¿å­˜å¹¶é€€å‡º <code>vim</code> ç¼–è¾‘å™¨</p></li><li><p>é€šè¿‡ä»¥ä¸‹å‘½ä»¤åˆ·æ–° <code>pacman</code> æ•°æ®åº“å¹¶æ›´æ–°ï¼š</p></li></ol><div class="language-bash vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">pacman</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -Syyu</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p><img src="'+o+'" alt="syyu"></p><h2 id="_4-å®‰è£…-kde-plasma-æ¡Œé¢ç¯å¢ƒ" tabindex="-1">4. å®‰è£… KDE Plasma æ¡Œé¢ç¯å¢ƒ <a class="header-anchor" href="#_4-å®‰è£…-kde-plasma-æ¡Œé¢ç¯å¢ƒ" aria-label="Permalink to &quot;4. å®‰è£… KDE Plasma æ¡Œé¢ç¯å¢ƒ&quot;">â€‹</a></h2><div class="tip custom-block"><p class="custom-block-title">â„¹ï¸ æç¤º</p><p>æ–°æ‰‹æ¨èå®‰è£… KDE Plasma æ¡Œé¢ç¯å¢ƒï¼Œæ­¤å¤–æœ‰ GNOMEã€ Xfce ç­‰<a href="https://wiki.archlinux.org/title/Desktop_environment" target="_blank" rel="noreferrer">æ¡Œé¢ç¯å¢ƒ</a>å’Œä¸€ä¼—<a href="https://wiki.archlinux.org/title/Window_manager" target="_blank" rel="noreferrer">çª—å£ç®¡ç†å™¨</a>å¯ä¾›é€‰æ‹©ã€‚æœ¬æ•™ç¨‹ä»…åˆ—å‡º KDE å®‰è£…ä½¿ç”¨æ•™ç¨‹ã€‚</p></div><ol><li>é€šè¿‡ä»¥ä¸‹å‘½ä»¤å®‰è£…ç›¸å…³è½¯ä»¶åŒ…ï¼š</li></ol><div class="language-bash vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">pacman</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -S</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> plasma-meta</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> konsole</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> dolphin</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> # plasma-meta å…ƒè½¯ä»¶åŒ…ã€konsole ç»ˆç«¯æ¨¡æ‹Ÿå™¨å’Œ dolphin æ–‡ä»¶ç®¡ç†å™¨</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p><img src="'+h+`" alt="install-kde"></p><ol start="2"><li>kde é»˜è®¤å®‰è£…çš„æ˜¯<a href="https://wiki.archlinuxcn.org/zh-hans/Xorg" target="_blank" rel="noreferrer">xorg</a>ï¼Œå¦‚æœæƒ³ä½¿ç”¨<a href="https://wiki.archlinuxcn.org/wiki/Wayland" target="_blank" rel="noreferrer">wayland</a>çš„è¯å®‰è£…ä»¥ä¸‹åŒ…ï¼š</li></ol><div class="language-bash vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">pacman</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -S</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">  plasma-workspace</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> xdg-desktop-portal</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Nå¡ç”¨æˆ·éœ€è¦é¢å¤–å®‰è£…egl-wayland,xdg-desktop-portalåŒ…æ˜¯ä¸ºäº†å¦‚obsæ­¤ç±»å·¥å…·å½•åˆ¶å±å¹•ä½¿ç”¨</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># xdg-desktop-portalåŒ…ç»„æä¾›äº†ä¸åŒç¯å¢ƒä¸‹ä½¿ç”¨çš„è½¯ä»¶åŒ…</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># ä¾‹å¦‚kdeç”¨æˆ·å¯é€‰æ‹©xdg-desktop-portal-kdeåŒ…</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><ol start="3"><li>å®‰è£…å®Œæˆåï¼Œå¯ä»¥åœ¨åç»­ç™»å½•æ—¶é€‰æ‹©ä½¿ç”¨ xorg è¿˜æ˜¯ wayland</li></ol><h2 id="_5-é…ç½®å¹¶å¯åŠ¨-greeter-sddm" tabindex="-1">5. é…ç½®å¹¶å¯åŠ¨ greeter sddm <a class="header-anchor" href="#_5-é…ç½®å¹¶å¯åŠ¨-greeter-sddm" aria-label="Permalink to &quot;5. é…ç½®å¹¶å¯åŠ¨ greeter sddm&quot;">â€‹</a></h2><ol><li>å¼€å¯ sddm.service å®ˆæŠ¤è¿›ç¨‹ï¼š</li></ol><div class="language- vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>systemctl enable sddm</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><ol start="2"><li>é€šè¿‡ä»¥ä¸‹å‘½ä»¤å¯åŠ¨æ˜¾ç¤ºç®¡ç†å™¨æˆ–é‡å¯ç”µè„‘ï¼Œå³å¯çœ‹åˆ°æ¬¢è¿ç•Œé¢ï¼š</li></ol><div class="language-bash vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">systemctl</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> start</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> sddm</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  # ç›´æ¥å¯åŠ¨æ˜¾ç¤ºç®¡ç†å™¨ï¼Œä¸ä»¥ä¸‹rebootå‘½ä»¤äºŒé€‰ä¸€å³å¯</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><div class="language-bash vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">reboot</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p><img src="`+c+'" alt="sign-in"></p><ol start="3"><li>è¾“å…¥æ–°ç”¨æˆ·çš„å¯†ç å¹¶å›è½¦ <code>Enter</code> å³å¯ç™»å½•æ¡Œé¢</li></ol><p><img src="'+k+'" alt="desktop"></p><div class="tip custom-block"><p class="custom-block-title">â„¹ï¸ æç¤º</p><p>è‹¥è™šæ‹Ÿæœºä¸‹åœ¨ sddm è¾“å…¥å¯†ç ç™»å½•åæ— æ³•è¿›å…¥æ¡Œé¢ï¼Œåªæœ‰é»‘å±å’Œå…‰æ ‡ï¼Œè¯·ç¡®è®¤åœ¨æ­¥éª¤ <a href="./pre-virt.html#_3-é…ç½®-virtualbox">3. é…ç½® VirtualBox</a> ä¸­<strong>æ²¡æœ‰</strong>å‹¾é€‰ <code>å¯ç”¨3DåŠ é€Ÿ</code>ã€‚</p></div><p><img src="'+u+'" alt="enable-sddm"></p><div class="tip custom-block"><p class="custom-block-title">â„¹ï¸ æç¤º</p><p>å€¼å¾—æ³¨æ„çš„æ˜¯æ­¤æ—¶æ“ä½œç³»ç»Ÿå°šæœªå®‰è£…ç›¸åº”çš„æ˜¾å¡é©±åŠ¨ã€‚å¦‚åœ¨è¿›å…¥æ¡Œé¢ç¯å¢ƒæ—¶é­é‡é—ªé€€èŠ±å±ç­‰æ„å¤–æƒ…å†µï¼Œå»ºè®®å°è¯•å®‰è£…ç›¸åº”çš„æ˜¾å¡é©±åŠ¨ã€‚è¯¦æƒ…è¯·å‚é˜…<a href="./graphic-driver.html">æ˜¾å¡é©±åŠ¨</a>ã€‚</p></div><h2 id="_6-å®‰è£…åŸºç¡€åŠŸèƒ½åŒ…" tabindex="-1">6. å®‰è£…åŸºç¡€åŠŸèƒ½åŒ… <a class="header-anchor" href="#_6-å®‰è£…åŸºç¡€åŠŸèƒ½åŒ…" aria-label="Permalink to &quot;6. å®‰è£…åŸºç¡€åŠŸèƒ½åŒ…&quot;">â€‹</a></h2><ol><li>è¿›å…¥æ¡Œé¢åï¼Œåœ¨å¼€å§‹èœå•æœç´¢å¹¶æ‰“å¼€ Konsoleã€‚å®ƒæ˜¯ KDE æ¡Œé¢ç¯å¢ƒé»˜è®¤çš„ç»ˆç«¯æ¨¡æ‹Ÿå™¨</li></ol><p><img src="'+b+`" alt="konsole"></p><ol start="2"><li>é¦–å…ˆè¿›è¡Œæ¡Œé¢ç¯å¢ƒä¸­çš„ç½‘ç»œè®¾ç½®ï¼š</li></ol><div class="language-bash vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">ping</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> www.bilibili.com</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> # æµ‹è¯•ç½‘ç»œè¿é€šæ€§</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>KDE æ¡Œé¢ç¯å¢ƒä¸­è¿æ¥ç½‘ç»œå’Œ win10 ä¸€æ ·ï¼Œè¿™é‡Œä¸å†èµ˜è¿°ã€‚</p><ol start="3"><li>æ¥ä¸‹æ¥å®‰è£…ä¸€äº›åŸºç¡€åŠŸèƒ½åŒ…ï¼š</li></ol><div class="language-bash vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> pacman</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -S</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> sof-firmware</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> alsa-firmware</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> alsa-ucm-conf</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> # å£°éŸ³å›ºä»¶</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> pacman</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -S</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ntfs-3g</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> # ä½¿ç³»ç»Ÿå¯ä»¥è¯†åˆ« NTFS æ ¼å¼çš„ç¡¬ç›˜</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> pacman</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -S</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> adobe-source-han-serif-cn-fonts</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> wqy-zenhei</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> # å®‰è£…å‡ ä¸ªå¼€æºä¸­æ–‡å­—ä½“ã€‚ä¸€èˆ¬è£…ä¸Šæ–‡æ³‰é©¿å°±èƒ½è§£å†³å¤§å¤š wine åº”ç”¨ä¸­æ–‡æ–¹å—çš„é—®é¢˜</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> pacman</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -S</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> noto-fonts</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> noto-fonts-cjk</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> noto-fonts-emoji</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> noto-fonts-extra</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> # å®‰è£…è°·æ­Œå¼€æºå­—ä½“åŠè¡¨æƒ…</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> pacman</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -S</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> firefox</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> chromium</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> # å®‰è£…å¸¸ç”¨çš„ç«ç‹ã€chromium æµè§ˆå™¨</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> pacman</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -S</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ark</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> # å‹ç¼©è½¯ä»¶ã€‚åœ¨ dolphin ä¸­å¯ç”¨å³é”®è§£å‹å‹ç¼©åŒ…</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> pacman</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -S</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> packagekit-qt6</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> packagekit</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> appstream-qt</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> appstream</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> # ç¡®ä¿ Discoverï¼ˆè½¯ä»¶ä¸­å¿ƒï¼‰å¯ç”¨ï¼Œéœ€é‡å¯</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> pacman</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -S</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> gwenview</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> # å›¾ç‰‡æŸ¥çœ‹å™¨</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> pacman</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -S</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> steam</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> # æ¸¸æˆå•†åº—ã€‚ç¨åçœ‹å®Œæ˜¾å¡é©±åŠ¨ç« èŠ‚å†ä½¿ç”¨</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><ol start="4"><li>æœ€åæ‰§è¡Œå®‰è£… <code>archlinuxcn</code> æºæ‰€éœ€çš„ç›¸å…³æ­¥éª¤ï¼š</li></ol><div class="language-bash vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> pacman</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -S</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> archlinuxcn-keyring</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> # cn æºä¸­çš„ç­¾åï¼ˆarchlinuxcn-keyring åœ¨ archlinuxcnï¼‰</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> pacman</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -S</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> yay</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> # yay å‘½ä»¤å¯ä»¥è®©ç”¨æˆ·å®‰è£… AUR ä¸­çš„è½¯ä»¶ï¼ˆyay åœ¨ archlinuxcnï¼‰</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><div class="tip custom-block"><p class="custom-block-title">â„¹ï¸ æç¤º</p><p>è‹¥å®‰è£… <code>archlinuxcn-keyring</code> æ—¶æŠ¥é”™ï¼Œæ˜¯ç”±äºå¯†é’¥ç¯çš„é—®é¢˜ã€‚å¯å…ˆæŒ‰ç…§ <a href="https://www.archlinuxcn.org/gnupg-2-1-and-the-pacman-keyring/" target="_blank" rel="noreferrer">archlinuxcn å®˜æ–¹è¯´æ˜</a> æ‰§è¡Œå…¶ä¸­çš„å‘½ä»¤ï¼Œå†å®‰è£… <code>archlinuxcn-keyring</code>ã€‚</p><p><code>archlinuxcn</code> ç¤¾åŒºæºçš„ <code>keyring</code> åŒ… <code>archlinuxcn-keyring</code> ç”± <code>farseerfc</code> çš„ key ç­¾ç½²éªŒè¯ï¼Œè€Œ <code>Arch Linux</code> å®˜æ–¹ <code>keyring</code> ä¸­åŒ…å«äº† farseerfc çš„ key ã€‚è‡ª 12 æœˆåˆ <code>archlinux-keyring</code> ä¸­åˆ é™¤äº†ä¸€ä¸ªé€€ä»»çš„ <a href="https://gitlab.archlinux.org/archlinux/archlinux-keyring/-/issues/246" target="_blank" rel="noreferrer">master key</a> å¯¼è‡´ <code>farseerfc</code> çš„ key çš„ä¿¡ä»»æ•°ä¸è¶³ï¼Œç”± <code>GnuPG</code> çš„ <code>web of trust</code> æ¨ç®—ä¸º <code>marginal trust</code>ï¼Œä»è€Œä¸å†èƒ½è‡ªåŠ¨ä¿¡ä»» <code>archlinuxcn-keyring</code> åŒ…çš„ç­¾åã€‚</p><p>å¦‚æœä½ åœ¨æ–°ç³»ç»Ÿä¸­å°è¯•å®‰è£… <code>archlinuxcn-keyring</code> åŒ…æ—¶é‡åˆ°å¦‚ä¸‹æŠ¥é”™ï¼š</p><div class="language-bash vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">error:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> archlinuxcn-keyring:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> Signature</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;Jiachen YANG (Arch Linux Packager Signing Key) &lt;farseerfc@archlinux.org&gt;&quot;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> is</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> marginal</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> trust</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>è¯·ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤åœ¨æœ¬åœ°ä¿¡ä»» <code>farseerfc çš„ key</code> ã€‚æ­¤ <code>key</code> å·²éš <code>archlinux-keyring</code> å®‰è£…åœ¨ç³»ç»Ÿä¸­ï¼Œåªæ˜¯ç¼ºä¹ä¿¡ä»»ï¼š</p><div class="language-bash vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> pacman-key</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --lsign-key</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;farseerfc@archlinux.org&quot;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>ä¹‹åç»§ç»­å®‰è£… <code>archlinuxcn-keyring</code> ï¼š <code>sudo pacman -S archlinuxcn-keyring</code><a href="https://www.archlinuxcn.org/archlinuxcn-keyring-manually-trust-farseerfc-key/" target="_blank" rel="noreferrer">https://www.archlinuxcn.org/archlinuxcn-keyring-manually-trust-farseerfc-key/</a></p></div><h2 id="_7-æ£€æŸ¥å®¶ç›®å½•" tabindex="-1">7. æ£€æŸ¥å®¶ç›®å½• <a class="header-anchor" href="#_7-æ£€æŸ¥å®¶ç›®å½•" aria-label="Permalink to &quot;7. æ£€æŸ¥å®¶ç›®å½•&quot;">â€‹</a></h2><p>æ£€æŸ¥å®¶ç›®å½•ä¸‹çš„å„ä¸ªå¸¸è§ç›®å½•æ˜¯å¦å·²ç»åˆ›å»ºï¼Œè‹¥æ²¡æœ‰åˆ™éœ€é€šè¿‡ä»¥ä¸‹å‘½ä»¤æ‰‹åŠ¨åˆ›å»ºï¼š</p><div class="language-bash vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">cd</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ~</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">ls</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -hl</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">xdg-user-dirs-update</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p><img src="`+g+'" alt="mkdir"></p><h2 id="_8-é…ç½®é-root-è´¦æˆ·çš„é»˜è®¤ç¼–è¾‘å™¨" tabindex="-1">8. é…ç½®é root è´¦æˆ·çš„é»˜è®¤ç¼–è¾‘å™¨ <a class="header-anchor" href="#_8-é…ç½®é-root-è´¦æˆ·çš„é»˜è®¤ç¼–è¾‘å™¨" aria-label="Permalink to &quot;8. é…ç½®é root è´¦æˆ·çš„é»˜è®¤ç¼–è¾‘å™¨&quot;">â€‹</a></h2><ol><li>ä½¿ç”¨ <code>vim</code> ç¼–è¾‘ <code>~/.bashrc</code> æ–‡ä»¶ï¼š</li></ol><div class="language-bash vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">vim</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ~/.bashrc</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><ol start="2"><li>åœ¨é€‚å½“ä½ç½®åŠ å…¥ä»¥ä¸‹å†…å®¹ï¼š</li></ol><div class="language-bash vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">export</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> EDITOR</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;vim&#39;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><div class="tip custom-block"><p class="custom-block-title">â„¹ï¸ æç¤º</p><p>ä¹Ÿå¯ä»¥æ·»åŠ åˆ° <code>~/.bash_profile</code> ä¸­ã€‚</p></div><h2 id="_9-è®¾ç½®ç³»ç»Ÿä¸ºä¸­æ–‡" tabindex="-1">9. è®¾ç½®ç³»ç»Ÿä¸ºä¸­æ–‡ <a class="header-anchor" href="#_9-è®¾ç½®ç³»ç»Ÿä¸ºä¸­æ–‡" aria-label="Permalink to &quot;9. è®¾ç½®ç³»ç»Ÿä¸ºä¸­æ–‡&quot;">â€‹</a></h2><ol><li>æ‰“å¼€ <code>System Settings</code> &gt; <code>Language and Regional Settings</code> &gt; åœ¨ <code>Language</code> ä¸­ç‚¹å‡» <code>Add languages...</code> &gt; é€‰æ‹©ä¸­æ–‡åŠ å…¥ <code>ADD</code>ï¼Œå†æ‹–æ‹½åˆ°ç¬¬ä¸€ä½ &gt; ç‚¹å‡» <code>Apply</code></li></ol><p><img src="'+m+'" alt="language"></p><ol start="2"><li>æ³¨é”€å¹¶é‡æ–°ç™»é™†å³å¯ç”Ÿæ•ˆ</li></ol><p><img src="'+F+`" alt="language-effect"></p><div class="tip custom-block"><p class="custom-block-title">â„¹ï¸ æç¤º</p><p>å¾ˆå¤šäººä¼šé”™è¯¯çš„æ›´æ”¹ <code>System Settings</code> &gt; <code>Regional Settings</code> &gt; <code>Formats</code> ä¸­çš„å€¼ä¸ºä¸­æ–‡è’™å¤ã€é»˜è®¤æˆ–è€…å…¶ä»–å€¼ã€‚è¿™ä¼šå¯¼è‡´ç³»ç»Ÿä¸­ä¸€åŠè‹±æ–‡ä¸€åŠä¸­æ–‡ã€‚è¿™é‡Œçš„å€¼è¦ä¿æŒé»˜è®¤çš„ <code>en_US</code> æˆ– <code>zh_CN</code>ï¼Œæˆ–è€…æ”¹ä¸ºä½ åœ¨ <code>locale.gen</code> ä¸­æ·»åŠ çš„ä»»æ„ä¸€ç§è¯­è¨€ã€‚</p><p>éƒ¨åˆ†è®¾å¤‡åœ¨è®¾ç½®ç³»ç»Ÿè¯­è¨€åä»ç„¶å‡ºç°éƒ¨åˆ†è®¾ç½®ä¸ºè‹±æ–‡çš„æƒ…å†µï¼ˆæ¯”å¦‚å³é”®ã€éƒ¨åˆ†èœå•è®¾ç½®é¡¹ï¼‰ è¿‡ä¿®æ”¹ <code>~/.config/plasma-localerc</code> ä¸­çš„ä¸º<code>zh_CN</code>å¯ä»¥<code>zh_CN.UTF-8</code>è§£å†³</p></div><h2 id="_10-å®‰è£…è¾“å…¥æ³•" tabindex="-1">10. å®‰è£…è¾“å…¥æ³• <a class="header-anchor" href="#_10-å®‰è£…è¾“å…¥æ³•" aria-label="Permalink to &quot;10. å®‰è£…è¾“å…¥æ³•&quot;">â€‹</a></h2><p>å¦‚æœ‰éœ€è¦å¯ä»¥å‚é˜… <a href="https://wiki.archlinux.org/index.php/Fcitx5_(%E7%AE%80%E4%BD%93%E4%B8%AD%E6%96%87)" target="_blank" rel="noreferrer">Fcitx5 å®˜æ–¹æ–‡æ¡£</a>ã€‚</p><ol><li>é€šè¿‡ä»¥ä¸‹å‘½ä»¤å®‰è£…ç›¸å…³è½¯ä»¶åŒ…ï¼š</li></ol><div class="language-bash vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> pacman</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -S</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> fcitx5-im</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> # è¾“å…¥æ³•åŸºç¡€åŒ…ç»„</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> pacman</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -S</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> fcitx5-chinese-addons</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> # å®˜æ–¹ä¸­æ–‡è¾“å…¥å¼•æ“</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> pacman</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -S</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> fcitx5-anthy</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> # æ—¥æ–‡è¾“å…¥å¼•æ“</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> pacman</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -S</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> fcitx5-pinyin-moegirl</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> # èŒå¨˜ç™¾ç§‘è¯åº“ã€‚äºŒåˆºçŒ¿å¿…å¤‡ï¼ˆarchlinuxcnï¼‰</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> pacman</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -S</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> fcitx5-material-color</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> # è¾“å…¥æ³•ä¸»é¢˜</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><ol start="2"><li>æ­¤å¤–ï¼Œæˆ‘ä»¬è¿˜éœ€è¦è®¾ç½®ç¯å¢ƒå˜é‡ã€‚é€šè¿‡ <code>vim</code> åˆ›å»ºå¹¶ç¼–è¾‘æ–‡ä»¶ <code>~/.config/environment.d/im.conf</code>ï¼š</li></ol><div class="language-bash vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">vim</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ~/.config/environment.d/im.conf</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><ol start="3"><li>åœ¨æ–‡ä»¶ä¸­åŠ å…¥ä»¥ä¸‹å†…å®¹å¹¶ä¿å­˜é€€å‡ºï¼š</li></ol><div class="language-environment vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">environment</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span># fix fcitx problem</span></span>
<span class="line"><span>GTK_IM_MODULE=fcitx</span></span>
<span class="line"><span>QT_IM_MODULE=fcitx</span></span>
<span class="line"><span>XMODIFIERS=@im=fcitx</span></span>
<span class="line"><span>SDL_IM_MODULE=fcitx</span></span>
<span class="line"><span>GLFW_IM_MODULE=ibus</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p><img src="`+v+'" alt="fcitx5_step-1"></p><p>Konsole ä»¥åŠ Dolphin éƒ½éœ€è¦è¿™äº›ç¯å¢ƒå˜é‡ï¼Œå€’æ˜¯ Firefox å’Œ Chromium éƒ½ä¸éœ€è¦å°±å¯ä»¥è¾“å…¥ä¸­æ–‡ã€‚</p><div class="tip custom-block"><p class="custom-block-title">â„¹ï¸ æç¤º</p><ol><li>å¦‚æœä½¿ç”¨ Wayland è€Œé X11ï¼Œè¯·å‚ç…§å¦‚ä¸‹æ–¹å¼è¿›è¡Œé…ç½®è€Œéä¸Šé¢çš„é…ç½®æ–¹æ³•ï¼š</li></ol><blockquote><p>åœ¨ã€Œç³»ç»Ÿè®¾ç½® - è¾“å…¥è®¾å¤‡ - è™šæ‹Ÿé”®ç›˜ã€ä¸­é€‰ä¸­ Fcitx 5ï¼›<code>environment</code> ä»…ä¿ç•™ <code>XMODIFIERS=@im=fcitx</code> ä¸€è¡Œï¼›åœ¨åŸºäº Chromium çš„ç¨‹åºï¼ˆåŒ…æ‹¬æµè§ˆå™¨å’Œä½¿ç”¨ Electron çš„ç¨‹åºï¼‰ä¸­åŠ å…¥ <code>--enable-features=UseOzonePlatform --ozone-platform=wayland --enable-wayland-ime</code> å¯åŠ¨å‚æ•°ã€‚</p></blockquote><ol start="2"><li>æ£€æŸ¥ä¸€ä¸‹æ˜¯å¦æœ‰æ‹¼å†™é”™è¯¯ï¼Œå¦‚æœè¾“å…¥æ³•æ— æ³•æ­£å¸¸åˆ‡æ¢ï¼Œå¯å°è¯•æ‰§è¡Œ <code>fcitx5-diagnose</code> å‘½ä»¤æ¥è¯Šæ–­é—®é¢˜çš„åŸå› ã€‚</li></ol><p>ç”±äºå­˜åœ¨<a href="https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2010-4708" target="_blank" rel="noreferrer">å®‰å…¨æ€§é—®é¢˜</a>ï¼Œè‡ª 2022 å¹´ 10 æœˆ 21 æ—¥èµ·ï¼Œ<a href="https://github.com/archlinux/svntogit-packages/commit/891610cfcc202916cf5eb46d6df56e885062f78e" target="_blank" rel="noreferrer">Arch Linux é»˜è®¤ä¸å†è¯»å–</a> <code>~/.pam_environment</code> æ–‡ä»¶ä¸­çš„è®¾ç½®ã€‚</p></div><ol start="4"><li><p>æ‰“å¼€ <code>ç³»ç»Ÿè®¾ç½®</code> &gt; <code>åŒºåŸŸè®¾ç½®</code> &gt; <code>è¾“å…¥æ³•</code></p></li><li><p>ç‚¹å‡»æç¤ºä¿¡æ¯ä¸­çš„ <code>è¿è¡Œ Fcitx</code>ï¼š</p></li></ol><p><img src="'+y+'" alt="fcitx5_step-2"></p><ol start="6"><li>ç‚¹å‡» <code>æ·»åŠ è¾“å…¥æ³•</code> &gt; æ‰¾åˆ°ç®€ä½“ä¸­æ–‡ä¸‹çš„ <code>Pinyin</code> &gt; ç‚¹å‡» <code>æ·»åŠ </code> å³å¯åŠ å…¥æ‹¼éŸ³è¾“å…¥æ³•ï¼š</li></ol><p><img src="'+C+'" alt="fcitx5_step-3"></p><ol start="7"><li>æ¥ä¸‹æ¥ç‚¹å‡» <code>Pinyin</code> å³ä¾§çš„é…ç½®æŒ‰é’® &gt; ç‚¹é€‰ <code>äº‘æ‹¼éŸ³</code> å’Œ <code>åœ¨ç¨‹åºä¸­æ˜¾ç¤ºé¢„ç¼–è¾‘æ–‡æœ¬</code> &gt; æœ€åç‚¹å‡» <code>åº”ç”¨</code>ï¼š</li></ol><p><img src="'+f+'" alt="fcitx5_step-4"></p><ol start="8"><li>å›åˆ°è¾“å…¥æ³•è®¾ç½® &gt; ç‚¹å‡» <code>é…ç½®é™„åŠ ç»„ä»¶</code> &gt; æ‰¾åˆ° <code>Classic User Interface</code> &gt; åœ¨ä¸»é¢˜é‡Œé€‰æ‹©ä¸€ä¸ªä½ å–œæ¬¢çš„é¢œè‰² &gt; æœ€åç‚¹å‡» <code>åº”ç”¨</code>ï¼š</li></ol><p><img src="'+B+'" alt="fcitx5_step-5"></p><ol start="9"><li>æ³¨é”€å¹¶é‡æ–°ç™»é™†ï¼Œå‘ç°å·²ç»å¯ä»¥åœ¨å„ä¸ªè½¯ä»¶ä¸­è¾“å…¥ä¸­æ–‡äº†ï¼š</li></ol><p><img src="'+_+'" alt="fcitx5_step-6"></p><div class="tip custom-block"><p class="custom-block-title">â„¹ï¸ æç¤º</p><p>é€šè¿‡ <code>Ctrl</code> + <code>ç©ºæ ¼</code> åˆ‡æ¢ä¸­è‹±æ–‡è¾“å…¥ã€‚</p></div><h2 id="_11-å¯åŠ¨è“ç‰™-è‹¥æœ‰" tabindex="-1">11. å¯åŠ¨è“ç‰™ï¼ˆè‹¥æœ‰ï¼‰ <a class="header-anchor" href="#_11-å¯åŠ¨è“ç‰™-è‹¥æœ‰" aria-label="Permalink to &quot;11. å¯åŠ¨è“ç‰™ï¼ˆè‹¥æœ‰ï¼‰&quot;">â€‹</a></h2><p>é€šè¿‡ä»¥ä¸‹å‘½ä»¤å¼€å¯è“ç‰™ç›¸å…³æœåŠ¡å¹¶è®¾ç½®å¼€æœºè‡ªåŠ¨å¯åŠ¨ï¼š</p><div class="language-bash vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> systemctl</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> enable</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --now</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> bluetooth</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h2 id="_12-è®¾ç½®-timeshift-å¿«ç…§" tabindex="-1">12. è®¾ç½® Timeshift å¿«ç…§ <a class="header-anchor" href="#_12-è®¾ç½®-timeshift-å¿«ç…§" aria-label="Permalink to &quot;12. è®¾ç½® Timeshift å¿«ç…§&quot;">â€‹</a></h2><ol><li>é€šè¿‡ä»¥ä¸‹å‘½ä»¤å®‰è£… Timeshiftï¼š</li></ol><div class="language-bash vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> pacman</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -S</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> timeshift</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p><img src="'+x+'" alt="timeshift-install"></p><div class="tip custom-block"><p class="custom-block-title">â„¹ï¸ æç¤º</p><p>è‹¥å®‰è£… AUR æ—¶æ— æ³•æ­£å¸¸ä¸‹è½½ï¼Œè¯·å…ˆå‚ç…§ç« èŠ‚ <a href="./transparent.html">é€æ˜ä»£ç†</a> é…ç½®é€æ˜ä»£ç†ã€‚</p></div><p>å®‰è£…ä¹‹åï¼Œå¦‚æœ Timeshift æ²¡æœ‰è‡ªåŠ¨å¤‡ä»½ï¼Œéœ€è¦æ‰‹åŠ¨å¼€å¯<code>cronie</code>æœåŠ¡ï¼š</p><div class="language-bash vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> systemctl</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> enable</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --now</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> cronie.service</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><ol start="2"><li>æ‰“å¼€ Timeshiftï¼Œç¬¬ä¸€æ¬¡å¯åŠ¨ä¼šè‡ªåŠ¨å¯åŠ¨è®¾ç½®å‘å¯¼</li></ol><h3 id="_12-1-è‹¥ä½¿ç”¨-btrfs-æ–‡ä»¶ç³»ç»Ÿ" tabindex="-1">12-1. è‹¥ä½¿ç”¨ Btrfs æ–‡ä»¶ç³»ç»Ÿ <a class="header-anchor" href="#_12-1-è‹¥ä½¿ç”¨-btrfs-æ–‡ä»¶ç³»ç»Ÿ" aria-label="Permalink to &quot;12-1. è‹¥ä½¿ç”¨ Btrfs æ–‡ä»¶ç³»ç»Ÿ&quot;">â€‹</a></h3><p>è‹¥æŒ‰ç…§æ­¥éª¤ <a href="./basic-install.html#_7-åˆ†åŒºå’Œæ ¼å¼åŒ–-ä½¿ç”¨-btrfs-æ–‡ä»¶ç³»ç»Ÿ">7. åˆ†åŒºå’Œæ ¼å¼åŒ–ï¼ˆä½¿ç”¨ Btrfs æ–‡ä»¶ç³»ç»Ÿï¼‰</a> ä½¿ç”¨çš„ Btrfs æ–‡ä»¶ç³»ç»Ÿï¼Œåˆ™è¿›è¡Œå¦‚ä¸‹æ“ä½œã€‚</p><ol><li>å¿«ç…§ç±»å‹é€‰æ‹© <code>BTRFS</code>ï¼Œç‚¹å‡» <code>ä¸‹ä¸€æ­¥</code>ï¼š</li></ol><p><img src="'+E+'" alt="timeshift-config_step-1"></p><ol start="2"><li>å¿«ç…§ä½ç½®é€‰æ‹© <code>BTRFS</code> åˆ†åŒºï¼Œç‚¹å‡» <code>ä¸‹ä¸€æ­¥</code>ï¼š</li></ol><p><img src="'+w+'" alt="timeshift-config_step-2"></p><div class="tip custom-block"><p class="custom-block-title">â„¹ï¸ æç¤º</p><p>Timeshift åªæ”¯æŒå¿«ç…§æ“ä½œç³»ç»Ÿå®‰è£…åœ¨å…·æœ‰ Ubuntu ç±»å‹çš„å­å·å¸ƒå±€ï¼ˆ<code>@</code> å’Œ <code>@home</code> å­å·ï¼‰çš„ BTRFS åˆ†åŒºã€‚</p><p>è‹¥æ­¤å¤„æç¤ºä¸æ”¯æŒçš„å­å·å¸ƒå±€ï¼Œè¯·ç¡®ä¿æŒ‰ç…§æ­¥éª¤ <a href="./basic-install.html#_7-åˆ†åŒºå’Œæ ¼å¼åŒ–-ä½¿ç”¨-btrfs-æ–‡ä»¶ç³»ç»Ÿ">7. åˆ†åŒºå’Œæ ¼å¼åŒ–ï¼ˆä½¿ç”¨ Btrfs æ–‡ä»¶ç³»ç»Ÿï¼‰</a> çš„è¯´æ˜åˆ†åŒºã€‚</p></div><ol start="3"><li>é€‰æ‹©å¿«ç…§è®¡åˆ’ï¼Œç‚¹å‡» <code>ä¸‹ä¸€æ­¥</code>ï¼š</li></ol><p><img src="'+D+'" alt="timeshift-config_step-3"></p><div class="tip custom-block"><p class="custom-block-title">â„¹ï¸ æç¤º</p><p>ç”±äº BTRFS ç±»å‹å¿«ç…§å ç”¨ç©ºé—´ç›¸å¯¹è¾ƒå°ï¼Œå¯ä»¥é€‚å½“æé«˜å¿«ç…§æ•°é‡ã€‚</p></div><ol start="4"><li>è‹¥å¸Œæœ› <code>/home</code> ç”¨æˆ·ä¸»ç›®å½•ä¹Ÿå¿«ç…§ï¼Œåˆ™å‹¾é€‰åœ¨å¤‡ä»½ä¸­åŒ…å« <code>@home</code> å­å·ï¼Œç„¶åç‚¹å‡» <code>ä¸‹ä¸€æ­¥</code>ï¼š</li></ol><p><img src="'+A+`" alt="timeshift-config_step-4"></p><ol start="5"><li>ç‚¹å‡» <code>å®Œæˆ</code> ç»“æŸé…ç½®</li></ol><div class="warning custom-block"><p class="custom-block-title">âš ï¸ æ³¨æ„</p><p>å®Œæˆåå»ºè®®æ‰§è¡Œä¸‹è¿°æŒ‡ä»¤åˆ é™¤ <code>subvolid</code>ï¼š</p><div class="language-bash vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> sed</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -i</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -E</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;s/(subvolid=[0-9]+,)|(,subvolid=[0-9]+)//g&#39;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /etc/fstab</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>å¦åˆ™ï¼Œæ¢å¤ BTRFS ç±»å‹å¿«ç…§æ—¶ï¼Œå¯èƒ½å› å­å· ID æ”¹å˜å¯¼è‡´æ— æ³•æ­£å¸¸è¿›å…¥ç³»ç»Ÿï¼Œå‚é˜… <a href="./../advanced/system-ctl.html#æ¢å¤åæ— æ³•æŒ‚è½½ç›®å½•">æ¢å¤åæ— æ³•æŒ‚è½½ç›®å½•</a>ã€‚</p></div><h3 id="_12-2-è‹¥ä½¿ç”¨-ext4-æ–‡ä»¶ç³»ç»Ÿ" tabindex="-1">12-2. è‹¥ä½¿ç”¨ ext4 æ–‡ä»¶ç³»ç»Ÿ <a class="header-anchor" href="#_12-2-è‹¥ä½¿ç”¨-ext4-æ–‡ä»¶ç³»ç»Ÿ" aria-label="Permalink to &quot;12-2. è‹¥ä½¿ç”¨ ext4 æ–‡ä»¶ç³»ç»Ÿ&quot;">â€‹</a></h3><p>è‹¥ä½¿ç”¨çš„ä¸ºä¼ ç»Ÿçš„ ext4 æ–‡ä»¶ç³»ç»Ÿï¼Œåˆ™è¿›è¡Œå¦‚ä¸‹æ“ä½œã€‚</p><ol><li>å¿«ç…§ç±»å‹é€‰æ‹© <code>RSYNC</code>ï¼Œç‚¹å‡» <code>ä¸‹ä¸€æ­¥</code></li><li>å¿«ç…§ä½ç½®é€‰æ‹©è¾ƒå¤§çš„åˆ†åŒºï¼Œå¿«ç…§å°†ä¿å­˜åœ¨æ­¤åˆ†åŒºçš„ <code>/timeshift</code> ç›®å½•ä¸‹</li><li>é€‰æ‹©å¿«ç…§è®¡åˆ’ï¼Œç‚¹å‡» <code>ä¸‹ä¸€æ­¥</code></li></ol><div class="tip custom-block"><p class="custom-block-title">â„¹ï¸ æç¤º</p><p>ç”±äº RSYNC ç±»å‹å¿«ç…§å ç”¨ç©ºé—´è¾ƒå¤§ï¼Œè¯·ä¸è¦ä¿å­˜è¿‡å¤šçš„å†å²å¿«ç…§ã€‚</p></div><ol start="4"><li><code>/home</code> ç”¨æˆ·ä¸»ç›®å½•å¯é€‰å…¨éƒ¨åŒ…å«ï¼Œæˆ–è€…<strong>é€‰æ‹©æ’é™¤ä¸€åˆ‡ï¼Œåœ¨ä¸‹ä¸€é¡¹ä¸­è¿›è¡Œæ›´è¯¦ç»†é…ç½®</strong>ã€‚å…¶ä¸­ <code>root</code> é»˜è®¤å…¨å¤‡ä»½ï¼ˆå³ä½¿é€‰æ‹©æ’é™¤ä¸€åˆ‡ï¼‰</li><li>è‹¥ç”¨æˆ·ä¸»ç›®å½•é€‰æ‹©æ’é™¤ä¸€åˆ‡ï¼Œåœ¨åŒ…å«/æ’é™¤æ¨¡å¼ä¸­å»ºè®®è¿›è¡Œå¦‚ä¸‹é…ç½®ï¼ˆæ³¨æ„é¡ºåºï¼Œå¯æ‹–æ‹½ç§»åŠ¨é¡ºåºï¼‰ï¼š <ul><li><code>+ /home/user/.config/***</code>ï¼ˆæ³¨æ„æ˜¯ <code>***</code>ï¼‰</li><li><code>+ /home/user/.local/***</code></li><li><code>- /home/user/.**</code></li><li><code>- /home/user/**</code></li><li><code>- /root/**</code></li></ul></li><li>ç‚¹å‡» <code>å®Œæˆ</code> ç»“æŸé…ç½®</li></ol><p>è‡ªæ­¤ï¼ŒTimeshift å¿«ç…§å·²ç»æˆåŠŸè®¾ç½®ã€‚Timeshift å°†æŒ‰ç…§è®¡åˆ’å¿«ç…§ç³»ç»Ÿå¹¶åˆ é™¤ä¹…è¿œçš„å¿«ç…§ã€‚Timeshift å¿«ç…§ä¸ºç³»ç»Ÿå¢åŠ äº†ä¸€å±‚ä¿éšœã€‚</p><h2 id="_13-è‡ªåŠ¨ç”Ÿæˆå¿«ç…§å¯åŠ¨é¡¹" tabindex="-1">13. è‡ªåŠ¨ç”Ÿæˆå¿«ç…§å¯åŠ¨é¡¹ <a class="header-anchor" href="#_13-è‡ªåŠ¨ç”Ÿæˆå¿«ç…§å¯åŠ¨é¡¹" aria-label="Permalink to &quot;13. è‡ªåŠ¨ç”Ÿæˆå¿«ç…§å¯åŠ¨é¡¹&quot;">â€‹</a></h2><p>é€šè¿‡å®‰è£… <code>grub-btrfs</code> åŒ…ï¼Œå¯ä»¥å®ç°åœ¨æ¯æ¬¡ä½¿ç”¨ <code>grub-mkconfig</code> é‡æ–°ç”Ÿæˆ GRUB å¯åŠ¨é¡¹æ—¶ï¼Œè‡ªåŠ¨æ·»åŠ å¿«ç…§çš„å¯åŠ¨å…¥å£ã€‚ å¦‚æœå¸Œæœ›åœ¨ Timeshift è‡ªåŠ¨åˆ›å»ºå¿«ç…§çš„èƒ½å¤ŸåŒæ—¶è‡ªåŠ¨ç”Ÿæˆå¯åŠ¨é¡¹ï¼Œå¯ä»¥é€šè¿‡ä»¥ä¸‹å‘½ä»¤è¿è¡Œ <code>grub-btrfsd.service</code> å¹¶å°†å…¶é…ç½®ä¸ºè‡ªåŠ¨å¯åŠ¨</p><div class="language-bash vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> systemctl</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> enable</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --now</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> grub-btrfsd.service</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>ç”±äºè¯¥æœåŠ¡é»˜è®¤çš„ç›‘è§†è·¯å¾„ä¸º <code>/.snapshots</code>ï¼Œå› æ­¤è¿˜éœ€è¦å¯¹è¯¥è·¯å¾„è¿›è¡Œä¿®æ”¹ï¼Œä½ éœ€è¦ï¼š</p><ol><li>è¦†ç›–é»˜è®¤é…ç½®</li></ol><div class="language-bash vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> systemctl</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> edit</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> grub-btrfsd.service</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>åœ¨é»˜è®¤çš„å…‰æ ‡ä½ç½®ï¼Œæ·»åŠ ä»¥ä¸‹å†…å®¹åä¿å­˜å¹¶é€€å‡º</p><div class="language- vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>[Service]</span></span>
<span class="line"><span>ExecStart=</span></span>
<span class="line"><span>ExecStart=/usr/bin/grub-btrfsd --syslog --timeshift-auto</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><ol start="2"><li>é‡è½½å¹¶é‡å¯æœåŠ¡</li></ol><div class="language-bash vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> systemctl</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> daemon-reload</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> systemctl</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> restart</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> grub-btrfsd.service</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>è¿™æ ·å°±èƒ½å¤Ÿå®ç°åœ¨ Timeshift ç”Ÿæˆå¿«ç…§æ—¶ï¼Œè‡ªåŠ¨æ·»åŠ å¿«ç…§å¯åŠ¨é¡¹</p><div class="tip custom-block"><p class="custom-block-title">â„¹ï¸ æç¤º</p><p>ç›®å‰ï¼ˆv24.06.3ï¼‰Timeshift åˆ›å»ºçš„å¿«ç…§é»˜è®¤æ˜¯å¯è¯»å¯å†™ï¼Œå¹¶ä¸”æ²¡æœ‰æä¾›åˆ›å»ºåªè¯»å¿«ç…§çš„åŠŸèƒ½ã€‚</p><p>å¦‚æœä½ ä¸æ˜¯ä½¿ç”¨ Timeshift å¯¹ç³»ç»Ÿè¿›è¡Œå¿«ç…§ç®¡ç†ï¼Œè€Œæ˜¯ä½¿ç”¨å…¶å®ƒå·¥å…·ï¼Œä½ å¯èƒ½ä¼šé‡åˆ°ç”±äºåˆ›å»ºäº†åªè¯»å¿«ç…§å¯¼è‡´æ— æ³•æ­£å¸¸å¯åŠ¨åˆ°å¿«ç…§ç³»ç»Ÿçš„é—®é¢˜ï¼Œä½ éœ€è¦é€šè¿‡ <code>btrfs property set</code> ä¿®æ”¹å¿«ç…§çš„è¯»å†™å±æ€§æ‰èƒ½è§£å†³ã€‚</p><p>å¯¹æ­¤ï¼Œgrub-btrfs æä¾›äº†ä¸€ä¸ª<a href="https://github.com/Antynea/grub-btrfs/blob/master/initramfs/readme.md" target="_blank" rel="noreferrer">initramfs hook</a>ï¼Œä½ å¯ä»¥æ·»åŠ è¿™ä¸ªåä¸º <code>grub-btrfs-overlayfs</code> çš„ hookï¼Œä½¿ç”¨ overlayfs çš„æ–¹å¼å¯åŠ¨åªè¯»å¿«ç…§ã€‚</p><p>è¿™æ ·æ¯å½“å¯åŠ¨åˆ°åªè¯»å¿«ç…§æ—¶ï¼Œæ‰€æœ‰çš„å†™æ“ä½œéƒ½ä¼šè¢«é‡å®šå‘åˆ° overlayfs çš„ upper å±‚ï¼Œä¹Ÿå°±æ˜¯å°†æ•°æ®å†™å…¥åˆ°å†…å­˜ä¸­ï¼Œè€Œä¸ä¼šå½±å“åˆ°å¿«ç…§æœ¬èº«ï¼Œå°±åƒ live-cd ä¸€æ ·ã€‚</p><p>ä½ éœ€è¦ç¼–è¾‘ <code>/etc/mkinitcpio.conf</code></p><div class="language-bash vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sudo</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -e</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /etc/mkinitcpio.conf</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>æ‰¾åˆ° <code>HOOKS</code>ï¼Œå¹¶åœ¨åˆ—è¡¨æœ«å°¾æ·»åŠ  <code>grub-btrfs-overlayfs</code>ï¼Œå°±åƒè¿™æ ·:</p><div class="language- vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>HOOKS=(base udev autodetect microcode modconf keyboard keymap consolefont block filesystems fsck resume numlock grub-btrfs-overlayfs)</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>å¹¶é‡æ–°ç”Ÿæˆ initramfs:</p><div class="language-bash vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> mkinitcpio</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -P</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div></div><h2 id="âœ¨-å¤ªæ£’äº†" tabindex="-1">âœ¨ å¤ªæ£’äº† <a class="header-anchor" href="#âœ¨-å¤ªæ£’äº†" aria-label="Permalink to &quot;âœ¨ å¤ªæ£’äº†&quot;">â€‹</a></h2><p>è‡ªæ­¤ï¼Œä¸€ä¸ªå¯ä»¥å½“ä½œæ—¥å¸¸ç³»ç»Ÿä½¿ç”¨çš„ archlinux å·²ç»åŸºæœ¬é…ç½®å®Œæˆäº†ï¼KDE æ¡Œé¢ç¯å¢ƒç»è¿‡äº†å¤šå¹´çš„è¿­ä»£æ›´æ–°ï¼Œå·²ç»éå¸¸å®Œå–„å’Œå¼ºå¤§äº†ï¼Œå°† archlinux ä½œä¸ºæ—¥å¸¸ä½¿ç”¨çš„ä¸»åŠ›ç³»ç»Ÿä¸åœ¨è¯ä¸‹ã€‚</p><p>æ¥ä¸‹æ¥ï¼Œåœ¨ä¸‹ä¸€èŠ‚ <a href="./graphic-driver.html">æ˜¾å¡é©±åŠ¨</a> ä¸­ï¼Œæˆ‘ä»¬å°†é…ç½®æ˜¾å¡é©±åŠ¨ï¼›æœ€åå°†è¿æ¥ ğŸŒ± æ–°æ‰‹ä¸Šè·¯çš„æœ€åä¸€èŠ‚ <a href="./transparent.html">é€æ˜ä»£ç†</a>ã€‚</p><p>ç¥ä½ å¥½è¿ï¼</p>`,161)]))}const K=a(S,[["render",q]]);export{O as __pageData,K as default};
